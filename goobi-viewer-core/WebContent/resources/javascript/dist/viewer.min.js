/*!
 * This file is part of the Goobi viewer - a content presentation and management application for digitized objects.
 *
 * Visit these websites for more information.
 * - http://www.intranda.com
 * - http://digiverso.com
 *
 * This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/>.
 */
!function(){function e(t,o,n){function a(i,l){if(!o[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[i]={exports:{}};t[i][0].call(d.exports,function(e){var o=t[i][1][e];return a(o||e)},d,d.exports,e,t,o,n)}return o[i].exports}for(var r="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}return e}()({1:[function(e,t,o){"use strict";var n=function(e){function t(e){return c&&(console.log("---------- _getAllSessionElements() ----------"),console.log("_getAllSessionElements: root - ",e)),Q($.ajax({url:e+"/rest/bookshelves/session/get/",type:"GET",dataType:"JSON",async:!0}))}function o(e,t){return c&&(console.log("---------- _isElementSet() ----------"),console.log("_isElementSet: root - ",e),console.log("_isElementSet: pi - ",t)),Q($.ajax({url:e+"/rest/bookshelves/session/contains/"+t+"/",type:"GET",dataType:"JSON",async:!0}))}function n(e,t){return c&&(console.log("---------- _setSessionElement() ----------"),console.log("_setSessionElement: root - ",e),console.log("_setSessionElement: pi - ",t)),Q($.ajax({url:e+"/rest/bookshelves/session/add/"+t+"/",type:"GET",dataType:"JSON",async:!0}))}function a(e,t){return c&&(console.log("---------- _deleteSessionElement() ----------"),console.log("_deleteSessionElement: root - ",e),console.log("_deleteSessionElement: pi - ",t)),Q($.ajax({url:e+"/rest/bookshelves/session/delete/"+t+"/",type:"GET",dataType:"JSON",async:!0}))}function r(e){return c&&(console.log("---------- _deleteAllSessionElements() ----------"),console.log("_deleteAllSessionElements: root - ",e)),Q($.ajax({url:e+"/rest/bookshelves/session/delete/",type:"GET",dataType:"JSON",async:!0}))}function i(){c&&console.log("---------- _setSessionElementCount() ----------"),t(u.root).then(function(e){$('[data-bookshelf-type="counter"]').empty().text(e.items.length)}).fail(function(e){console.error("ERROR - _getAllSessionElements: ",e.responseText)})}function l(){c&&console.log("---------- _renderDropdownList() ----------"),t(u.root).then(function(e){var t=$("<button>").addClass("btn-clean").attr("type","button").attr("data-bookshelf-type","reset").text(u.msg.resetBookshelves),o=$("<ul />").addClass("list"),n=null,c=null,d=null,g=null,p=null,h=null,f=null,v=null,m=null;e.items.length<1&&localStorage.setItem("confirmCounter",0),e.items.forEach(function(e){n=$("<li />"),c=$("<div />").addClass("row no-margin"),d=$("<div />").addClass("col-xs-4 no-padding"),g=$("<div />").addClass("col-xs-7 no-padding"),p=$("<div />").addClass("col-xs-1 no-padding bookshelf-navigation__dropdown-list-remove"),h=$("<div />").addClass("bookshelf-navigation__dropdown-list-image").css("background-image","url("+e.representativeImageUrl+")"),f=$("<h4 />"),v=$("<a />").attr("href",u.root+e.url).text(e.name),m=$("<button />").addClass("btn-clean").attr("type","button").attr("data-bookshelf-type","delete").attr("data-pi",e.pi),f.append(v),d.append(h),g.append(f),p.append(m),c.append(d).append(g).append(p),n.append(c),o.append(n)}),$(".bookshelf-navigation__dropdown-list").empty().append(o),e.items.length>0?$(".bookshelf-navigation__dropdown-list-reset").empty().append(t):($(".bookshelf-navigation__dropdown").hide(),$(".bookshelf-navigation__dropdown-list-reset").empty()),$('[data-bookshelf-type="delete"]').on("click",function(){var e=$(this).attr("data-pi");a(u.root,e).then(function(){i(),s(),l()})}),$('[data-bookshelf-type="reset"]').on("click",function(){if(!confirm(u.msg.resetBookshelvesConfirm))return!1;r(u.root).then(function(){localStorage.setItem("confirmCounter",0),i(),s(),l()})})}).fail(function(e){console.error("ERROR - _getAllSessionElements: ",e.responseText)})}function s(){c&&console.log("---------- _setAddActiveState() ----------"),$('[data-bookshelf-type="add"]').each(function(){var e=$(this),t=e.attr("data-pi");o(u.root,t).then(function(t){t?e.addClass("added"):e.removeClass("added")}).fail(function(e){console.error("ERROR - _isElementSet: ",e.responseText)})})}var c=!1,d=0,u={root:"",msg:{resetBookshelves:"",resetBookshelvesConfirm:"",saveItemToSession:""}};return e.bookshelvesSession={init:function(e){c&&(console.log("##############################"),console.log("viewer.bookshelvesSession.init"),console.log("##############################"),console.log("viewer.bookshelvesSession.init: config - ",e)),$.extend(!0,u,e),void 0==localStorage.getItem("confirmCounter")&&localStorage.setItem("confirmCounter",0),l(),$('[data-bookshelf-type="dropdown"]').off().on("click",function(e){e.stopPropagation(),$(".login-navigation__login-dropdown, .login-navigation__user-dropdown, .navigation__collection-panel").hide(),t(u.root).then(function(e){if(!(e.items.length>0))return!1;$(".bookshelf-navigation__dropdown").slideToggle("fast")}).fail(function(e){console.error("ERROR - _getAllSessionElements: ",e.responseText)})}),i(),s(),$('[data-bookshelf-type="add"]').off().on("click",function(){var e=$(this),t=e.attr("data-pi");o(u.root,t).then(function(o){if(d=parseInt(localStorage.getItem("confirmCounter")),o)e.removeClass("added"),a(u.root,t).then(function(){i(),l()});else if(0==d){if(!confirm(u.msg.saveItemToSession))return!1;e.addClass("added"),localStorage.setItem("confirmCounter",1),n(u.root,t).then(function(){i(),l()})}else e.addClass("added"),n(u.root,t).then(function(){i(),l()})}).fail(function(e){console.error("ERROR - _isElementSet: ",e.responseText)})}),$("body").on("click",function(e){var t=$(e.target),o=$(".bookshelf-navigation__dropdown"),n=o.find("*");t.is(o)||t.is(n)||$(".bookshelf-navigation__dropdown").hide()})}},e}(n||{},jQuery)},{}],2:[function(e,t,o){"use strict";var n=function(e){function t(e,t,o){return g&&(console.log("---------- _addBookshelfItemByPi() ----------"),console.log("_addBookshelfItemByPi: root - ",e),console.log("_addBookshelfItemByPi: id - ",t),console.log("_addBookshelfItemByPi: pi - ",o)),Q($.ajax({url:e+"/rest/bookshelves/user/get/"+t+"/add/"+o+"/",type:"GET",dataType:"JSON",async:!0}))}function o(e,t){return g&&(console.log("---------- _addNamedBookshelf() ----------"),console.log("_addNamedBookshelf: root - ",e),console.log("_addNamedBookshelf: name - ",t)),Q($.ajax({url:e+"/rest/bookshelves/user/add/"+t+"/",type:"GET",dataType:"JSON",async:!0}))}function n(e){return g&&(console.log("---------- _addAutomaticNamedBookshelf() ----------"),console.log("_addAutomaticNamedBookshelf: root - ",e)),Q($.ajax({url:e+"/rest/bookshelves/user/add/",type:"GET",dataType:"JSON",async:!0}))}function a(e){return g&&(console.log("---------- _getAllBookshelves() ----------"),console.log("_getAllBookshelves: root - ",e)),Q($.ajax({url:e+"/rest/bookshelves/user/get/",type:"GET",dataType:"JSON",async:!0}))}function r(e,t){return g&&(console.log("---------- _getContainingBookshelfItemByPi() ----------"),console.log("_getContainingBookshelfItemByPi: root - ",e),console.log("_getContainingBookshelfItemByPi: pi - ",t)),Q($.ajax({url:e+"/rest/bookshelves/user/contains/"+t+"/",type:"GET",dataType:"JSON",async:!0}))}function i(e,t,o){return g&&(console.log("---------- _deleteBookshelfItemByPi() ----------"),console.log("_deleteBookshelfItemByPi: root - ",e),console.log("_deleteBookshelfItemByPi: id - ",t),console.log("_deleteBookshelfItemByPi: pi - ",o)),Q($.ajax({url:e+"/rest/bookshelves/user/get/"+t+"/delete/"+o+"/",type:"GET",dataType:"JSON",async:!0}))}function l(e,t,a,r,i){g&&(console.log("---------- _renderBookshelfPopup() ----------"),console.log("_renderBookshelfPopup: pi - ",e),console.log("_renderBookshelfPopup: logid - ",t),console.log("_renderBookshelfPopup: page - ",a),console.log("_renderBookshelfPopup: pos - ",r),console.log("_renderBookshelfPopup: size - ",i));var e=e,l=r.top,d=r.left;$(".bookshelf-popup").remove();var u=$("<div />").addClass("bookshelf-popup bottom").css({top:l+i.height+10+"px",left:d-142+i.width/2+"px"}),h=$("<div />").addClass("bookshelf-popup__body-loader");u.append(h);var f=$("<div />").addClass("bookshelf-popup__header").text(p.msg.selectBookshelf),v=$("<div />").addClass("bookshelf-popup__body"),m=$("<div />").addClass("bookshelf-popup__footer"),b=$("<div />").addClass("row no-margin"),w=$("<div />").addClass("col-xs-11 no-padding"),y=$("<input />").attr("type","text").attr("placeholder",p.msg.addNewBookshelf);w.append(y);var S=$("<div />").addClass("col-xs-1 no-padding"),x=$("<button />").addClass("btn-clean").attr("type","button").attr("data-bookshelf-type","add").attr("data-pi",e);S.append(x),b.append(w).append(S),m.append(b),u.append(f).append(v).append(m),$("body").append(u),s(e),$('.bookshelf-popup__footer [data-bookshelf-type="add"]').on("click",function(){var e=$(".bookshelf-popup__footer input").val(),t=$(this).attr("data-pi");""!=e?o(p.root,e).then(function(){$(".bookshelf-popup__footer input").val(""),s(t),c()}).fail(function(e){console.error("ERROR - _addNamedBookshelf: ",e.responseText)}):n(p.root).then(function(){$(".bookshelf-popup__footer input").val(""),s(t),c()}).fail(function(e){console.error("ERROR - _addAutomaticNamedBookshelf: ",e.responseText)})}),$(".bookshelf-popup__footer input").on("keyup",function(e){13==e.which&&$('.bookshelf-popup__footer [data-bookshelf-type="add"]').click()})}function s(e){g&&(console.log("---------- _renderBookshelfPopoverList() ----------"),console.log("_renderBookshelfPopoverList: pi - ",e)),a(p.root).then(function(o){var n=$("<ul />").addClass("bookshelf-popup__body-list list"),a=null,r=null,l=null,u=null,g=null;o.length>0?o.forEach(function(t){a=$("<li />"),u="",t.items.forEach(function(t){t.pi==e&&(u='<i class="fa fa-check" aria-hidden="true"></i> ')}),g=$("<span />").text(t.items.length),l=$("<button />").addClass("btn-clean").attr("type","button").attr("data-bookshelf-type","add").attr("data-id",t.id).attr("data-pi",e).text(t.name).prepend(u).append(g),a.append(l),n.append(a)}):(a=$("<li />"),r=$("<span />").addClass("empty").text(p.msg.noItemsAvailable),a.append(r),n.append(a)),$(".bookshelf-popup__body").empty().append(n),$(".bookshelf-popup__body-loader").remove(),$('.bookshelf-popup__body-list [data-bookshelf-type="add"]').on("click",function(){var e=$(this),o=e.attr("data-id"),n=e.attr("data-pi");e.find(".fa-check").length>0?i(p.root,o,n).then(function(){s(n),c(),d()}).fail(function(e){console.error("ERROR - _deleteBookshelfItemByPi: ",e.responseText)}):t(p.root,o,n).then(function(){s(n),c(),d()}).fail(function(e){console.error("ERROR - _addBookshelfItemByPi: ",e.responseText)})})}).fail(function(e){console.error("ERROR - _getAllBookshelves: ",e.responseText)})}function c(){g&&console.log("---------- _renderBookshelfNavigationList() ----------");var e=0;a(p.root).then(function(t){var o=$("<ul />").addClass("bookshelf-navigation__dropdown-list list"),n=null,a=null,r=null,i=null,l=null,s=null,c=null;t.length>0?(t.forEach(function(t){n=$("<li />"),a=$("<div />").addClass("row no-margin"),r=$("<div />").addClass("col-xs-10 no-padding"),i=$("<div />").addClass("col-xs-2 no-padding"),s=$("<a />").attr("href",p.root+"/bookshelf/"+t.id+"/").text(t.name),c=$("<span />").addClass("bookshelf-navigation__dropdown-list-counter").text(t.items.length),r.append(s),i.append(c),a.append(r).append(i),n.append(a),o.append(n),e+=t.items.length}),$('[data-bookshelf-type="counter"]').empty().text(e)):(n=$("<li />"),l=$("<span />").addClass("empty").text(p.msg.noItemsAvailable),n.append(l),o.append(n),$('[data-bookshelf-type="counter"]').empty().text(e)),$(".bookshelf-navigation__dropdown-list").empty().append(o)}).fail(function(e){console.error("ERROR - _getAllBookshelves: ",e.responseText)})}function d(){g&&console.log("---------- _setAddedStatus() ----------"),$('[data-bookshelf-type="add"]').each(function(){var e=$(this);u(e,e.attr("data-pi"))})}function u(e,t){g&&(console.log("---------- _isItemInBookshelf() ----------"),console.log("_isItemInBookshelf: pi - ",t),console.log("_isItemInBookshelf: object - ",e)),r(p.root,t).then(function(t){if(0==t.length)return e.removeClass("added"),!1;e.addClass("added")}).fail(function(e){console.error("ERROR - _getContainingBookshelfItemByPi: ",e.responseText)})}var g=!1,p={root:"",msg:{resetBookshelves:"",resetBookshelvesConfirm:"",noItemsAvailable:"",selectBookshelf:"",addNewBookshelf:""}};return e.bookshelvesUser={init:function(e){g&&(console.log("##############################"),console.log("viewer.bookshelvesUser.init"),console.log("##############################"),console.log("viewer.bookshelvesUser.init: config - ",e)),$.extend(!0,p,e),c(),$('[data-bookshelf-type="dropdown"]').off().on("click",function(e){e.stopPropagation(),$(".login-navigation__login-dropdown, .login-navigation__user-dropdown, .navigation__collection-panel").hide(),$(".bookshelf-popup").remove(),$(".bookshelf-navigation__dropdown").slideToggle("fast")}),d(),$('[data-bookshelf-type="add"]').off().on("click",function(e){e.stopPropagation(),$(".bookshelf-navigation__dropdown, .login-navigation__user-dropdown").hide();var t=$(this);l(t.attr("data-pi"),t.attr("data-logid"),t.attr("data-page"),t.offset(),{width:t.outerWidth(),height:t.outerHeight()})}),$("body").on("click",function(e){if($(".bookshelf-navigation__dropdown").hide(),$(".bookshelf-popup").length>0){var t=$(e.target),o=$(".bookshelf-popup"),n=o.find("*");t.is(o)||t.is(n)||$(".bookshelf-popup").remove()}}),$("#addBookshelfBtn").off().on("click",function(){var e=$("#addBookshelfInput").val();""!=e?o(p.root,e).then(function(){location.reload()}).fail(function(e){console.error("ERROR - _addNamedBookshelf: ",e.responseText)}):n(p.root).then(function(){location.reload()}).fail(function(e){console.error("ERROR - _addAutomaticNamedBookshelf: ",e.responseText)})}),$("#addBookshelfInput").on("keyup",function(e){13==e.which&&$("#addBookshelfBtn").click()})}},e}(n||{},jQuery)},{}],3:[function(e,t,o){"use strict";var n=function(e){function t(e,t){o&&(console.log("---------- _getPopoverContent() ----------"),console.log("_getPopoverContent: data = ",e),console.log("_getPopoverContent: config = ",t));var n="",a="";return n+='<ul class="list">',$.each(e,function(e,o){a=t.appUrl+"image/"+o.PI_TOPSTRUCT+"/"+o.THUMBPAGENO+"/"+o.LOGID+"/",n+="<li>",n+='<a href="'+a+'">',n+=o.LABEL,n+="</a>",n+="</li>"}),n+="</ul>"}var o=!1,a=null,r="",i={},l=null,s={appUrl:"",calendarWrapperSelector:".search-calendar__months",popoverTriggerSelector:'[data-popover-trigger="calendar-po-trigger"]',popoverTitle:"Bitte übergeben Sie den Titel des Werks"};return e.calendarPopover={init:function(e){o&&(console.log("##############################"),console.log("viewer.calendarPopover.init"),console.log("##############################"),console.log("viewer.calendarPopover.init: config - ",e)),$.extend(!0,s,e),$(s.popoverTriggerSelector).on("click",function(){a=$(this),r=encodeURI(a.attr("data-api")),n.helper.getRemoteData(r).done(function(e){l=t(e,s),i={placement:"auto bottom",title:s.popoverTitle,content:l,viewport:{selector:s.calendarWrapperSelector},html:!0},$(s.popoverTriggerSelector).popover("destroy"),a.popover(i),a.popover("show")})}),$("body").on("click",function(e){$(e.target).closest(s.popoverTriggerSelector).length||$(s.popoverTriggerSelector).popover("destroy")})}},e}(n||{},jQuery)},{}],4:[function(e,t,o){"use strict";var n=function(e){function t(e){l&&(console.log("---------- _degradeFontSize() ----------"),console.log("_degradeFontSize: current = ",e));var t=e;--t>=d.minFontSize?($(d.fontDownBtn).prop("disabled",!1),$(d.fontUpBtn).prop("disabled",!1),$("html").css("font-size",t+"px"),a(t+"px")):($(d.fontDownBtn).prop("disabled",!0),$(d.fontUpBtn).prop("disabled",!1))}function o(e){l&&(console.log("---------- _raiseFontSize() ----------"),console.log("_raiseFontSize: current = ",e));var t=e;++t<=d.maxFontSize?($(d.fontDownBtn).prop("disabled",!1),$(d.fontUpBtn).prop("disabled",!1),$("html").css("font-size",t+"px"),a(t+"px")):($(d.fontDownBtn).prop("disabled",!1),$(d.fontUpBtn).prop("disabled",!0))}function n(e){return l&&(console.log("---------- _parseFontSize() ----------"),console.log("_parseFontSize: string = ",e)),parseInt(e.replace("px"))}function a(e){l&&(console.log("---------- _saveFontSize() ----------"),console.log("_parseFontSize: size = ",e)),localStorage.setItem("currentFontSize",e)}function r(){l&&console.log("---------- _setFontSize() ----------");var e=localStorage.getItem("currentFontSize");null===e||""===e?localStorage.setItem("currentFontSize",d.baseFontSize):$("html").css("font-size",e)}function i(){l&&console.log("---------- _setButtonState() ----------");var e=n(localStorage.getItem("currentFontSize"));e===d.minFontSize&&$(d.fontDownBtn).prop("disabled",!0),e===d.maxFontSize&&$(d.fontUpBtn).prop("disabled",!0)}var l=!1,s=0,c="",d={fontDownBtn:"",fontUpBtn:"",maxFontSize:18,minFontSize:12,baseFontSize:"14px"};return e.changeFontSize={init:function(u){l&&(console.log("##############################"),console.log("viewer.changeFontSize.init"),console.log("##############################"),console.log("viewer.changeFontSize.init: config - "),console.log(u)),$.extend(!0,d,u),e.localStoragePossible&&(r(),i(),$(d.fontDownBtn).on("click",function(){a(c=$("html").css("font-size")),t(s=n(c))}),$(d.fontUpBtn).on("click",function(){a(c=$("html").css("font-size")),o(s=n(c))}))}},e}(n||{},jQuery)},{}],5:[function(e,t,o){"use strict";var n=function(e){var t=null,o=null,n=null,a=null,r=null,i={dataTablePaginator:"",txtField1:"",txtField2:"",totalCount:"",reloadBtn:""};return e.dataTable={init:function(t){$.extend(!0,i,t),e.dataTable.paginator.init(),$(".column-filter-wrapper").length>0&&e.dataTable.filter.init()},paginator:{setupAjax:!1,init:function(){t=$(i.dataTablePaginator),o=$(i.txtField1),n=$(i.txtField2),a=$(i.totalCount),r=$(i.reloadBtn),o.on("click",function(){$(this).hide(),e.dataTable.paginator.inputFieldHandler()}),a.on("click",function(){o.hide(),e.dataTable.paginator.inputFieldHandler()}),this.setupAjax||(jsf.ajax.addOnEvent(function(t){var a=t.status;if(i.dataTablePaginator.length>0)switch(a){case"begin":null!==o&&null!==n&&(o.off(),n.off());break;case"complete":break;case"success":e.dataTable.paginator.init()}}),this.setupAjax=!0)},inputFieldHandler:function(){n.show().find("input").focus().select(),n.find("input").on("blur",function(){$(this).hide(),o.show(),r.click()}),n.find("input").on("keypress",function(e){13==e.keyCode&&r.click()})}},filter:{setupAjax:!1,init:function(){$("#adminAllUserForm").on("submit",function(e){e.preventDefault(),$(".column-filter-wrapper").find(".btn-filter").click()}),this.setupAjax||(jsf.ajax.addOnEvent(function(t){var o=t.status;if(i.dataTablePaginator.length>0)switch(o){case"begin":case"complete":break;case"success":e.dataTable.filter.init()}}),this.setupAjax=!0)}}},e}(n||{},jQuery)},{}],6:[function(e,t,o){"use strict";var n=function(e){function t(e){var t="";$.each(e,function(e,n){t+="<h4>"+o(n.date)+"</h4>",$.each(n,function(e,o){if(o.title)for(var n=0;n<=o.title.length;n++)void 0!==o.title[n]&&(t+='<div class="sorted-feed-title"><a href="',t+=o.url,t+='" title="',t+=o.title[n],t+='">',t+=o.title[n],t+="</a></div>")})}),a.feedBox.append(t)}function o(e){var t=e.split("-"),o=parseInt(t[1]);return t[2]+". "+a.monthNames[o]+" "+t[0]}var n=null,a={path:null,dataSortOrder:null,dataCount:null,dataEncoding:null,feedBox:null,monthNames:["","Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]};return e.dateSortedFeed={init:function(o){$.extend(!0,a,o);var r=a.path;r+="/api?action=query&q=PI:*&jsonFormat=datecentric&sortField=DATECREATED",r+="&sortOrder=",r+=a.dataSortOrder,r+="&count=",r+=a.dataCount,r+="&encoding=",r+=a.dataEncoding,a.feedBox&&(n=e.helper.getRemoteData(r)).then(function(e){t(e)}).then(null,function(){console.error("ERROR: viewer.dateSortedFeed.init - ",error)})},getDataSortOrder:function(){return a.dataSortOrder},setDataSortOrder:function(e){a.dataSortOrder=e},getDataCount:function(){return a.dataCount},setDataCount:function(e){a.dataCount=e},getDataEncoding:function(){return a.dataEncoding},setDataEncoding:function(e){a.dataEncoding=e}},e}(n||{},jQuery)},{}],7:[function(e,t,o){"use strict";var n=function(e){var t=null,o=null;return e.download={init:function(){t=$("#agreeLicense"),(o=$("#downloadBtn")).prop("disabled",!0),t.on("click",function(){var t=$(this).prop("checked");e.download.checkboxValidation(t)})},checkboxValidation:function(e){if(!e)return o.prop("disabled",!0),!1;o.prop("disabled",!1)}},e}(n||{},jQuery)},{}],8:[function(e,t,o){"use strict";var n=function(e){function t(e,t,r){o&&(console.log("---------- _getWorkInfo() ----------"),console.log("_getWorkInfo: pi = ",e),console.log("_getWorkInfo: logid = ",t),console.log("_getWorkInfo: type = ",r));var i="";return""!==t||void 0!==t?(i=a.iiifPath+r+"/mets/"+e+"/"+t+"/",o&&(console.log("if"),console.log("_getWorkInfo: restCall = ",i))):(i=a.iiifPath+r+"/mets/"+e+"/-/",o&&(console.log("else"),console.log("_getWorkInfo: restCall = ",i))),n.helper.getRemoteData(i)}var o=!1,a={dataType:null,dataTitle:null,dataId:null,dataPi:null,downloadBtn:null,reCaptchaSiteKey:"",useReCaptcha:!0,path:"",iiifPath:"",apiUrl:"",userEmail:null,workInfo:{},modal:{id:"",label:"",string:{title:"",body:"",closeBtn:"",saveBtn:""}},messages:{downloadInfo:{text:"Informationen zum angeforderten Download",title:"Werk",part:"Teil",fileSize:"Größe"},reCaptchaText:"Um die Generierung von Dokumenten durch Suchmaschinen zu verhindern bestätigen Sie bitte das reCAPTCHA.",rcInvalid:"Die Überprüfung war nicht erfolgreich. Bitte bestätigen Sie die reCAPTCHA Anfrage.",rcValid:"Vielen Dank. Sie können nun ihre ausgewählte Datei generieren lassen.",eMailText:"Um per E-Mail informiert zu werden sobald der Download zur Verfügung steht, können Sie hier optional Ihre E-Mail Adresse hinterlassen",eMailTextLoggedIn:"Sie werden über Ihre registrierte E-Mail Adresse von uns über den Fortschritt des Downloads informiert.",eMail:""}},r=null;return e.downloadModal={init:function(n){o&&(console.log("##############################"),console.log("viewer.downloadModal.init"),console.log("##############################"),console.log("viewer.downloadModal.init: config = ",n)),$.extend(!0,a,n),(r=$("<div />")).addClass("dl-modal__overlay"),$("body").append(r),a.downloadBtn.on("click",function(){$(".dl-modal__overlay").fadeIn("fast"),a.dataType=$(this).attr("data-type"),a.dataTitle=$(this).attr("data-title"),""!==$(this).attr("data-id")?a.dataId=$(this).attr("data-id"):a.dataId="-",a.dataPi=$(this).attr("data-pi"),t(a.dataPi,a.dataId,a.dataType).done(function(t){a.workInfo=t,a.modal={id:a.dataPi+"-Modal",label:a.dataPi+"-Label",string:{title:a.dataTitle,body:e.downloadModal.renderModalBody(a.dataType,a.workInfo),closeBtn:a.messages.closeBtn,saveBtn:a.messages.saveBtn}},$(".dl-modal__overlay").fadeOut("fast"),e.downloadModal.initModal(a)})})},initModal:function(t){o&&(console.log("---------- viewer.downloadModal.initModal() ----------"),console.log("viewer.downloadModal.initModal: params = ",t)),$("body").append(e.helper.renderModal(t.modal)),$("#submitModal").attr("disabled","disabled"),$("#"+t.modal.id).modal("show"),$("#"+t.modal.id).on("shown.bs.modal",function(t){if(a.useReCaptcha)var o=grecaptcha.render("reCaptchaWrapper",{sitekey:a.reCaptchaSiteKey,callback:function(){e.downloadModal.validateReCaptcha(grecaptcha.getResponse(o))?($("#modalAlerts").append(e.helper.renderAlert("alert-success",a.messages.rcValid,!0)),$("#submitModal").removeAttr("disabled").on("click",function(){a.userEmail=$("#recallEMail").val(),a.apiUrl=e.downloadModal.buildAPICall(a.path,a.dataType,a.dataPi,a.dataId,a.userEmail),window.location.href=a.apiUrl})):$("#modalAlerts").append(e.helper.renderAlert("alert-danger",a.messages.rcInvalid,!0))}});else $(this).find(".modal-body h4").next("p").hide(),$("#submitModal").removeAttr("disabled").on("click",function(){a.userEmail=$("#recallEMail").val(),a.apiUrl=e.downloadModal.buildAPICall(a.path,a.dataType,a.dataPi,a.dataId,a.userEmail),window.location.href=a.apiUrl})}),$("#"+t.modal.id).on("hidden.bs.modal",function(e){$(this).remove()})},renderModalBody:function(e,t){o&&(console.log("---------- viewer.downloadModal.renderModalBody() ----------"),console.log("viewer.downloadModal.renderModalBody: type = ",e),console.log("viewer.downloadModal.renderModalBody: infos = ",t));var n="";return n+="",n+='<div id="modalAlerts"></div>',"pdf"===e?(n+="<h4>",n+='<i class="fa fa-file-pdf-o" aria-hidden="true"></i> PDF-Download: ',n+="</h4>"):(n+="<h4>",n+='<i class="fa fa-file-text-o" aria-hidden="true"></i> ePub-Download: ',n+="</h4>"),n+="<p>"+a.messages.downloadInfo.text+":</p>",n+='<dl class="dl-horizontal">',n+="<dt>"+a.messages.downloadInfo.title+":</dt>",n+="<dd>"+t.title+"</dd>",null!==t.div&&(n+="<dt>"+a.messages.downloadInfo.part+":</dt>",n+="<dd>"+t.div+"</dd>"),t.size&&(n+="<dt>"+a.messages.downloadInfo.fileSize+":</dt>",n+="<dd>~"+t.size+"</dd>",n+="</dl>"),a.useReCaptcha&&(n+="<hr />",n+="<p><strong>reCAPTCHA</strong></p>",n+="<p>"+a.messages.reCaptchaText+":</p>",n+='<div id="reCaptchaWrapper"></div>'),n+="<hr />",n+='<form class="email-form">',n+='<div class="form-group">',n+='<label for="recallEMail">'+a.messages.eMail+"</label>",void 0!=a.userEmail?(n+='<p class="help-block">'+a.messages.eMailTextLoggedIn+"</p>",n+='<input type="email" class="form-control" id="recallEMail" value="'+a.userEmail+'" disabled="disabled" />'):(n+='<p class="help-block">'+a.messages.eMailText+":</p>",n+='<input type="email" class="form-control" id="recallEMail" />'),n+="</div>",n+="</form>"},validateReCaptcha:function(e){return o&&(console.log("---------- viewer.downloadModal.validateReCaptcha() ----------"),console.log("viewer.downloadModal.validateReCaptcha: response = ",e)),0!=e},buildAPICall:function(e,t,n,a,r){o&&(console.log("---------- viewer.downloadModal.buildAPICall() ----------"),console.log("viewer.downloadModal.buildAPICall: path = ",e),console.log("viewer.downloadModal.buildAPICall: type = ",t),console.log("viewer.downloadModal.buildAPICall: pi = ",n),console.log("viewer.downloadModal.buildAPICall: logid = ",a),console.log("viewer.downloadModal.buildAPICall: email = ",r));var i="";return i+=e+"rest/download",i+=""==t?"/-":"/"+t,i+=""==n?"/-":"/"+n,i+=""==a?"/-":"/"+a,i+=""==r||void 0==r?"/-/":"/"+r+"/",encodeURI(i)}},e}(n||{},jQuery)},{}],9:[function(e,t,o){"use strict";var n=function(e){var t={commentCount:0,editBtnCount:0,deleteBtnCount:0,deleteModalCount:0,btnId:null,commentText:null};return e.editComment={init:function(){""!==$('textarea[id*="newCommentInput"]').val()&&$('textarea[id*="newCommentInput"]').focus().val(""),$(".comment-edit").on("click",function(){$("#newCommentField").fadeOut(),t.btnId=$(this).attr("id").replace("commentEditBtn-",""),$("#addComment").hide(),$("#commentEditComment-"+t.btnId).prev().hide(),$("#commentEditComment-"+t.btnId).show(),$(".comment-edit").hide()}),$(".comment-abort").on("click",function(){$("#newCommentField").fadeIn(),$(".comments-comment-text").show(),$(".comment-edit").show(),$("#addComment").show(),$(this).parent().hide()}),$(".comment-edit").each(function(){$(this).attr("id","commentEditBtn-"+t.editBtnCount),t.editBtnCount++}),$(".comments-comment-edit").each(function(){$(this).attr("id","commentEditComment-"+t.commentCount),t.commentCount++}),$.each($(".comments-delete-btn"),function(){$(this).attr("data-toggle","modal").attr("data-target","#deleteCommentModal-"+t.deleteBtnCount),t.deleteBtnCount++}),$.each($(".deleteCommentModal"),function(){$(this).attr("id","deleteCommentModal-"+t.deleteModalCount),t.deleteModalCount++})}},e}(n||{},jQuery)},{}],10:[function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){return e.helper={truncateString:function(e,t){return parseInt(e.length)>t?e.substring(0,t)+"...":e},saveSidebarTocPosition:function(){var t=null,o=localStorage.getItem("currIdDoc"),n=null,a="",r="";if(!e.localStoragePossible)return!1;"false"!==o?((n=$('li[data-iddoc="'+o+'"]')).length>0?($(".widget-toc-elem-wrapp").scrollTop(n.offset().top-$(".widget-toc-elem-wrapp").offset().top+$(".widget-toc-elem-wrapp").scrollTop()),localStorage.setItem("currIdDoc","false")):localStorage.setItem("currIdDoc","false"),$(".widget-toc-elem-link a").on("click",function(){r=$(this).parents("li").attr("data-iddoc"),localStorage.setItem("currIdDoc",r)})):(localStorage.setItem("currIdDoc","false"),$(".widget-toc-elem-expand a").on("click",function(){t=$(".widget-toc-elem-wrapp").scrollTop(),localStorage.setItem("sidebarTocScrollPosition",t)}),$(".widget-toc-elem-link a").on("click",function(e){e.preventDefault(),a=$(this).attr("href"),t=$(".widget-toc-elem-wrapp").scrollTop(),localStorage.setItem("sidebarTocScrollPosition",t),location.href=a}),$(".widget-toc-elem-wrapp").scrollTop(localStorage.getItem("sidebarTocScrollPosition")))},getRemoteData:function(e){return Q($.ajax({url:decodeURI(e),type:"GET",dataType:"JSON",async:!0}))},renderModal:function(e){var t={id:"myModal",label:"myModalLabel",closeId:"closeModal",submitId:"submitModal",string:{title:"Modal title",body:"",closeBtn:"Close",saveBtn:"Save changes"}};$.extend(!0,t,e);var o="";return o+='<div class="modal fade" id="'+t.id+'" tabindex="-1" role="dialog" aria-labelledby="'+t.label+'">',o+='<div class="modal-dialog" role="document">',o+='<div class="modal-content">',o+='<div class="modal-header">',o+='<button type="button" class="close" data-dismiss="modal" aria-label="'+t.string.closeBtn+'">',o+='<span aria-hidden="true">&times;</span>',o+="</button>",o+='<h4 class="modal-title" id="'+t.label+'">'+t.string.title+"</h4>",o+="</div>",o+='<div class="modal-body">'+t.string.body+"</div>",o+='<div class="modal-footer">',o+='<button type="button" id="'+t.closeId+'"  class="btn" data-dismiss="modal">'+t.string.closeBtn+"</button>",o+='<button type="button" id="'+t.submitId+'" class="btn">'+t.string.saveBtn+"</button>",o+="</div></div></div></div>"},renderAlert:function(e,t,o){var n="";return n+='<div role="alert" class="alert '+e+' alert-dismissible fade in">',o&&(n+='<button aria-label="Close" data-dismiss="alert" class="close" type="button"><span aria-hidden="true">×</span></button>'),n+=t,n+="</div>"},detectIEVersion:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)},checkLocalStorage:function(){if("object"===("undefined"==typeof localStorage?"undefined":n(localStorage)))try{return localStorage.setItem("testLocalStorage",1),localStorage.removeItem("testLocalStorage"),!0}catch(e){return console.error("Not possible to write in local Storage: ",e),!1}},renderWarningPopover:function(e){var t=$("<div />"),o=$("<p />"),n=$("<button />"),a=$('<i aria-hidden="true" />');return t.addClass("warning-popover"),n.addClass("btn-clean"),n.attr("data-toggle","warning-popover"),a.addClass("fa fa-times"),n.append(a),t.append(n),o.html(e),t.append(o),t},equalHeight:function(e,t){var o=$(e),n=$(t),a=o.outerHeight();a>n.outerHeight()&&n.css({"min-height":a+"px"})},validateReCaptcha:function(e,t){var o=grecaptcha.render(e,{sitekey:t,callback:function(){var e=grecaptcha.getResponse(o);return console.log(e),0!=e}})},getCurrentBrowser:function(){var e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,o=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window["safari"]||typeof safari!=="undefined"&&safari.pushNotification).toString(),n=!!document.documentMode,a=!n&&!!window.StyleMedia,r=!!window.chrome&&!!window.chrome.webstore;return e?"Opera":t?"Firefox":o?"Safari":n?"IE":a?"Edge":r?"Chrome":void 0}},e.localStoragePossible=e.helper.checkLocalStorage(),e}(a||{},jQuery)},{}],11:[function(e,t,o){"use strict";var n=function(){var e={currentPage:"",browser:"",sidebarSelector:"#sidebar",contentSelector:"#main",equalHeightRSSInterval:1e3,equalHeightInterval:500,messageBoxSelector:".messages .alert",messageBoxInterval:1e3,messageBoxTimeout:8e3,pageScrollSelector:".icon-totop",pageScrollAnchor:"#top",widgetNerSidebarRight:!1},t={};return t.init=function(o){if($.extend(!0,e,o),e.browser=n.helper.getCurrentBrowser(),console.info("Current Page = ",e.currentPage),console.info("Current Browser = ",e.browser),function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(e)}}(),$('[data-toggle="tooltip"]').tooltip(),!t.localStoragePossible){var a=this.helper.renderWarningPopover("Ihr Browser befindet sich im privaten Modus und unterstützt die Möglichkeit Informationen zur Seite lokal zu speichern nicht. Aus diesem Grund sind nicht alle Funktionen des viewers verfügbar. Bitte verlasen Sie den privaten Modus oder benutzen einen alternativen Browser. Vielen Dank.");$("body").append(a),$('[data-toggle="warning-popover"]').on("click",function(){$(".warning-popover").fadeOut("fast",function(){$(".warning-popover").remove()})})}switch($('[data-toggle="offcanvas"]').click(function(){var e=$(this).children(".glyphicon");$(".row-offcanvas").toggleClass("active"),$(this).toggleClass("in"),e.hasClass("glyphicon-option-vertical")?e.removeClass("glyphicon-option-vertical").addClass("glyphicon-option-horizontal"):e.removeClass("glyphicon-option-horizontal").addClass("glyphicon-option-vertical")}),$('[data-toggle="mobilenav"]').on("click",function(){$(".btn-toggle.search").removeClass("in"),$(".header-actions__search").hide(),$(".btn-toggle.language").removeClass("in"),$("#changeLocal").hide(),$("#mobileNav").slideToggle("fast")}),$('[data-toggle="mobile-image-controls"]').on("click",function(){$(".image-controls__actions").slideToggle("fast")}),$('[data-toggle="language"]').on("click",function(){$(".btn-toggle.search").removeClass("in"),$(".header-actions__search").hide(),$(this).toggleClass("in"),$("#changeLocal").fadeToggle("fast")}),$('[data-toggle="search"]').on("click",function(){$(".btn-toggle.language").removeClass("in"),$("#changeLocal").hide(),$(this).toggleClass("in"),$(".header-actions__search").fadeToggle("fast")}),window.matchMedia("(max-width: 768px)").matches&&($(".rss_wrapp").length>0?setTimeout(function(){n.helper.equalHeight(e.sidebarSelector,e.contentSelector)},e.equalHeightRSSInterval):setTimeout(function(){n.helper.equalHeight(e.sidebarSelector,e.contentSelector)},e.equalHeightInterval),$(window).on("orientationchange",function(){n.helper.equalHeight(e.sidebarSelector,e.contentSelector)})),function(){var t=!1;setInterval(function(){if($(e.messageBoxSelector).size()>0&&!t){t=!0;setTimeout(function(){$(e.messageBoxSelector).each(function(){$(this).fadeOut("slow",function(){$(this).parent().remove()})}),t=!1},e.messageBoxTimeout)}},e.messageBoxInterval)}(),$(".collapse").on("show.bs.collapse",function(){$(this).prev().find(".glyphicon").removeClass("glyphicon-arrow-down").addClass("glyphicon-arrow-up")}),$(".collapse").on("hide.bs.collapse",function(){$(this).prev().find(".glyphicon").removeClass("glyphicon-arrow-up").addClass("glyphicon-arrow-down")}),this.pageScroll.init(e.pageScrollSelector,e.pageScrollAnchor),t.localStoragePossible&&($("#image_container").length>0||"readingmode"===currentPage?(null===localStorage.getItem("currIdDoc")&&localStorage.setItem("currIdDoc","false"),this.helper.saveSidebarTocPosition()):localStorage.setItem("sidebarTocScrollPosition",0)),"undefined"!=typeof jsf&&jsf.ajax.addOnEvent(function(o){var a=o.status,r=document.getElementById("AJAXLoader"),i=document.getElementById("AJAXLoaderSidebarToc");if(i&&r)switch(a){case"begin":i.style.display="block",r.style.display="none";break;case"complete":i.style.display="none",r.style.display="none";break;case"success":$('[data-toggle="tooltip"]').tooltip(),t.localStoragePossible&&(t.helper.saveSidebarTocPosition(),$(".widget-toc-elem-wrapp").scrollTop(localStorage.sidebarTocScrollPosition)),window.matchMedia("(max-width: 768px)").matches&&(n.helper.equalHeight(e.sidebarSelector,e.contentSelector),$(window).off().on("orientationchange",function(){n.helper.equalHeight(e.sidebarSelector,e.contentSelector)}))}else if(r)switch(a){case"begin":r.style.display="block";break;case"complete":r.style.display="none";break;case"success":$('[data-toggle="tooltip"]').tooltip(),window.matchMedia("(max-width: 768px)").matches&&(n.helper.equalHeight(e.sidebarSelector,e.contentSelector),$(window).off().on("orientationchange",function(){n.helper.equalHeight(e.sidebarSelector,e.contentSelector)}))}else switch(a){case"success":$('[data-toggle="tooltip"]').tooltip(),window.matchMedia("(max-width: 768px)").matches&&(n.helper.equalHeight(e.sidebarSelector,e.contentSelector),$(window).off().on("orientationchange",function(){n.helper.equalHeight(e.sidebarSelector,e.contentSelector)}))}}),"feedback"===currentPage&&$("#submitFeedbackBtn").attr("disabled",!0),$("#widgetNerFacetting").length>0&&(nerFacettingConfig.sidebarRight=e.widgetNerSidebarRight,this.nerFacetting.init(nerFacettingConfig)),$(".input-integer").on("keypress",function(e){if(e.which<48||e.which>57)return!1}),$(".input-float").on("keypress",function(e){switch(console.log(e),e.which){case 8:case 9:case 13:case 46:case 44:case 43:case 45:return!0;case 118:return e.ctrlKey;default:switch(e.keyCode){case 8:case 9:case 13:return!0;default:return!(e.which<48||e.which>57)}}}),this.tinyConfig.language=currentLang,"adminCmsCreatePage"===currentPage&&(this.tinyConfig.setup=function(e){e.on("change input paste",function(e){tinymce.triggerSave(),createPageConfig.prevBtn.attr("disabled",!0),createPageConfig.prevDescription.show()})}),"overview"===currentPage&&(n.tinyConfig.menubar=!0,n.tinyMce.overview()),"undefined"!=typeof jsf&&jsf.ajax.addOnEvent(function(e){switch(e.status){case"success":"overview"===currentPage&&n.tinyMce.overview(),n.tinyMce.init(n.tinyConfig)}}),$(".tinyMCE").length>0&&n.tinyMce.init(this.tinyConfig),e.browser){case"Chrome":$("img").error(function(){$(this).addClass("broken")});break;case"Firefox":$("img").error(function(){$(this).hide()}),$(".image-doublePageView").length>0&&$(".image-doublePageView").addClass("oneUp");break;case"IE":$("html").addClass("is-IE"),$("img").error(function(){$(this).hide()});break;case"Edge":case"Safari":$("img").error(function(){$(this).hide()})}},t.tinyConfig={},t}(jQuery)},{}],12:[function(e,t,o){"use strict";var n=function(e){function t(){a&&console.log("---------- _resetMenus() ----------"),$(".navigation__submenu-trigger").removeClass("active"),$(".navigation__submenu").removeClass("in"),$(".navigation__megamenu-trigger").removeClass("active"),$(".navigation__megamenu-wrapper").removeClass("in")}function o(){$(".level-2, .level-3, .level-4, .level-5").parent().removeClass("active"),$(".level-2, .level-3, .level-4, .level-5").removeClass("in").removeClass("left")}function n(e){a&&(console.log("---------- _clacSubMenuPosition() ----------"),console.log("_clacSubMenuPosition: menu - ",e));var t=e.offset().left,o=e.outerWidth(),n=$(window).outerWidth(),r=t+o;if(a&&(console.log("_clacSubMenuPosition: currentOffsetLeft - ",t),console.log("_clacSubMenuPosition: menuWidth - ",o),console.log("_clacSubMenuPosition: windowWidth - ",n),console.log("_clacSubMenuPosition: offsetWidth - ",r)),!(r>=n))return!1;e.addClass("left").css("width",o)}var a=!1,r={navigationSelector:"#navigation",subMenuSelector:'[data-toggle="submenu"]',megaMenuSelector:'[data-toggle="megamenu"]',closeMegaMenuSelector:'[data-toggle="close"]'};return e.navigation={init:function(e){a&&(console.log("##############################"),console.log("viewer.navigation.init"),console.log("##############################"),console.log("viewer.navigation.init: config - ",e)),$.extend(!0,r,e),$(r.subMenuSelector).on("click",function(){var e=$(this);$(this).parents(".navigation__submenu").hasClass("in")?(o(),e.parent().addClass("active"),e.next(".navigation__submenu").addClass("in"),n(e.next(".navigation__submenu"))):(t(),e.parent().addClass("active"),e.next(".navigation__submenu").addClass("in"))}),$(r.megaMenuSelector).on("click",function(){t(),$(this).next(".navigation__megamenu-wrapper").hasClass("in")?($(this).parent().removeClass("active"),$(this).next(".navigation__megamenu-wrapper").removeClass("in")):($(".navigation__megamenu-trigger").removeClass("active"),$(".navigation__megamenu-wrapper").removeClass("in"),$(this).parent().addClass("active"),$(this).next(".navigation__megamenu-wrapper").addClass("in"))}),$(r.closeMegaMenuSelector).on("click",function(){t()}),$(".navigation__megamenu-wrapper").length>0&&t(),$("body").on("click",function(e){"navigation"==e.target.id||$(e.target).closest(r.navigationSelector).length||t()})}},e}(n||{},jQuery)},{}],13:[function(e,t,o){"use strict";var n=function(e){function t(e){p&&(console.log("---------- _renderOverview() ----------"),console.log("_renderOverview: data = ",e)),v="",v+='<ul class="overview-scale">',$.each(e.pages,function(t,o){v+="<li>",v+='<div class="page-number">',1==e.rangeSize?("nerfacetting"===I.currentPage?v+='<a href="'+I.baseUrl+"/image/"+I.workId+"/"+o.pageOrder+'/">':v+='<a href="'+I.baseUrl+"/"+I.currentPage+"/"+I.workId+"/"+o.pageOrder+'/">',v+=o.pageOrder,v+="</a>"):"nerfacetting"===I.currentPage?void 0!==o.firstPage||void 0!==o.lastPage?(v+='<a href="'+I.baseUrl+"/image/"+I.workId+"/"+o.firstPage+'/">',v+=o.firstPage+"-"+o.lastPage,v+="</a>"):(v+='<a href="'+I.baseUrl+"/image/"+I.workId+"/"+o.pageOrder+'/">',v+=o.pageOrder,v+="</a>"):void 0!==o.firstPage||void 0!==o.lastPage?(v+='<a href="'+I.baseUrl+"/"+I.currentPage+"/"+I.workId+"/"+o.firstPage+'/">',v+=o.firstPage+"-"+o.lastPage,v+="</a>"):(v+='<a href="'+I.baseUrl+"/"+I.currentPage+"/"+I.workId+"/"+o.pageOrder+'/">',v+=o.pageOrder,v+="</a>"),v+="</div>",v+='<div class="tag-container">',0===o.tags.length||"undefined"===o.tags.length?v+='<span class="page-tag empty">'+I.msg.emptyTag+"</span>":$.each(o.tags,function(e,t){v+='<span class="page-tag '+t.type+'">'+t.value+"</span>"}),v+="</div>",v+="</li>"}),v+="</ul>",$(I.overviewContent).hide().html(v).find(".tag-container").each(function(){$(this).children(".page-tag").slice(I.recurrenceNumber).remove()}),$(I.overviewContent).show(),$(I.loader).hide(),$(".tag-container").on({mouseover:function(){o($(this))},mouseout:function(){n()}})}function o(e){var t=e.html(),o=e.position();I.sidebarRight?"nerfacetting"===I.currentPage?$(I.currentTags).html(t).css({display:"block",top:o.top+25+"px"}):$(I.currentTags).addClass("right").html(t).css({display:"block",top:o.top-2+"px",left:"auto",right:"100%"}):"nerfacetting"===I.currentPage?$(I.currentTags).html(t).css({display:"block",top:o.top+25+"px"}):$(I.currentTags).html(t).css({display:"block",top:o.top-2+"px"})}function n(){$(I.currentTags).hide()}function a(){p&&(console.log("---------- _renderSection() ----------"),console.log("_renderSection: _currentNerPageRange = ",k),console.log("_renderSection: _currentNerType = ",C)),f=d(),(P=e.helper.getRemoteData(f)).then(function(t){m=l(t),null!==k&&""!==k||(k=localStorage.getItem("currentNerPageRange")),null!==C&&""!==C||(C=localStorage.getItem("currentNerType")),"nerfacetting"===I.currentPage?$("#sliderScale .scale-page.end").html(m):m>1e3?$("#sliderScale .scale-page.end").html("999+"):$("#sliderScale .scale-page.end").html(m),$(I.slider).slider({orientation:"vertical",range:!1,min:1,max:m,value:m,slide:function(e,t){b=$(I.sliderHandle).position(),y=m+1-t.value,$(".page-bubble").show(),i(y)},start:function(){b=$(I.sliderHandle).position(),w=b.top},stop:function(t,o){switch(C=localStorage.getItem("currentNerType"),S=$(I.sliderScale).height(),k>m?$(I.sliderSectionStripe).css({top:"0px",height:"600px"}):b.top<100?$(I.sliderSectionStripe).animate({top:"0px",height:"100px"}):b.top>100&&(b.top>500?$(I.sliderSectionStripe).animate({top:S-100+"px",height:"100px"}):w<b.top?$(I.sliderSectionStripe).animate({top:b.top-25+"px",height:"100px"}):$(I.sliderSectionStripe).animate({top:b.top-50+"px",height:"100px"})),k){case"5":for(x=y-2,_=y+3;x<1;)x++,_++;for(;_>m;)x--,_--;f=g(x,_,C);break;case"10":for(x=y-5,_=y+5;x<1;)x++,_++;for(;_>m;)x--,_--;f=g(x,_,C);break;case"50":for(x=y-25,_=y+25;x<1;)x++,_++;for(;_>m;)x--,_--;f=g(x,_,C);break;case"100":for(x=y-50,_=y+50;x<1;)x++,_++;for(;_>m;)x--,_--;f=g(x,_,C)}(P=e.helper.getRemoteData(f)).then(function(t){""===(v=r(h=t))?$(I.sectionTags).hide().html(e.helper.renderAlert("alert-warning",I.msg.emptyTag,!1)).show():($(I.sectionTags).hide().html(v).each(function(){$(this).children(".page-tag").slice(I.recurrenceSectionNumber).remove()}),$(I.sectionTags).show()),$(".page-bubble").fadeOut()}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)})}}),f=g(0,k,C),(P=e.helper.getRemoteData(f)).then(function(t){""===(v=r(h=t))?$(I.sectionTags).hide().html(e.helper.renderAlert("alert-warning",I.msg.emptyTag,!1)).show():($(I.sectionTags).hide().html(v).each(function(){$(this).children(".page-tag").slice(I.recurrenceSectionNumber).remove()}),$(I.sectionTags).show()),$(I.loader).hide()}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)})}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)})}function r(e){return p&&(console.log("---------- _renderSectionTags() ----------"),console.log("_renderSectionTags: data - ",e)),v="",$.each(e.pages,function(e,t){0===t.tags.length||"undefined"===t.tags.length?v+="":$.each(t.tags,function(e,t){"nerfacetting"===I.currentPage?t.counter<10?v+='<span class="page-tag '+t.type+'" style="font-size: 1.'+t.counter+'rem;">'+t.value+"</span>":v+='<span class="page-tag '+t.type+'" style="font-size: 2rem;">'+t.value+"</span>":t.counter<10?v+='<span class="page-tag '+t.type+'" style="font-size: 1'+t.counter+'px;">'+t.value+"</span>":v+='<span class="page-tag '+t.type+'" style="font-size: 19px;">'+t.value+"</span>"})}),v}function i(e){p&&(console.log("---------- _renderPageBubble() ----------"),console.log("_renderPageBubble: page - ",e));var t="";switch(k){case"5":for(x=e-2,_=e+3;x<1;)x++,_++;for(;_>m;)x--,_--;t+='<span class="page-bubble">'+x+"-"+_+"</span>";break;case"10":for(x=e-5,_=e+5;x<1;)x++,_++;for(;_>m;)x--,_--;t+='<span class="page-bubble">'+x+"-"+_+"</span>";break;case"50":for(x=e-25,_=e+25;x<1;)x++,_++;for(;_>m;)x--,_--;t+='<span class="page-bubble">'+x+"-"+_+"</span>";break;case"100":for(x=e-50,_=e+50;x<1;)x++,_++;for(;_>m;)x--,_--;t+='<span class="page-bubble">'+x+"-"+_+"</span>"}$("#sliderVertical .ui-slider-handle").html(t)}function l(e){return p&&(console.log("---------- _getPageCount() ----------"),console.log("_getPageCount: work - ",e)),e.pages.length}function s(){p&&console.log("---------- _resetFacettingIcons() ----------"),$(".facetting-trigger").addClass("active"),$(".reset-filter").hide()}function c(){p&&console.log("---------- _cleanUpLocalStorage() ----------"),localStorage.removeItem("currentNerPageRange"),localStorage.removeItem("currentNerType")}function d(){return I.baseUrl+I.apiUrl+I.workId}function u(e,t){return I.baseUrl+I.apiUrl+"ranges/"+e+"/"+t+"/"+I.workId+"/"}function g(e,t,o){return I.baseUrl+I.apiUrl+e+"/"+t+"/"+o+"/"+I.workId+"/"}var p=!1,h=null,f="",v="",m=0,b={},w=0,y=0,S=0,x=0,_=0,k="",C="",P=null,I={currentPage:"",baseUrl:"",apiUrl:"/rest/ner/tags/",workId:"",overviewTrigger:"",overviewContent:"",sectionTrigger:"",sectionContent:"",facettingTrigger:"",setTagRange:"",slider:"",sliderScale:"",sectionTags:"",currentTags:"",sliderHandle:"",sliderSectionStripe:"",recurrenceNumber:0,recurrenceSectionNumber:0,sidebarRight:!1,loader:"",msg:{noJSON:"Es konnten keine Daten abgerufen werden.",emptyTag:"Keine Tags vorhanden",page:"Seite",tags:"Tags"}};return e.nerFacetting={init:function(o){p&&(console.log("##############################"),console.log("viewer.nerFacetting.init"),console.log("##############################"),console.log("viewer.nerFacetting.init: config - ",o)),$.extend(!0,I,o),e.localStoragePossible?($(I.loader).show(),c(),$(I.setTagRange).find("option").attr("selected",!1),"nerfacetting"===I.currentPage?$(I.setTagRangeOverview).find('option[value="1"]').prop("selected",!0):$(I.setTagRangeOverview).find('option[value="10"]').prop("selected",!0),s(),f="nerfacetting"===I.currentPage?u(1,"-"):u(10,"-"),(P=e.helper.getRemoteData(f)).then(function(o){null!==(h=o)||"undefinded"!==h?""===$(I.overviewContent).html()&&t(h):(v=e.helper.renderAlert("alert-danger",I.msg.noJSON+"<br /><br />URL: "+f,!0),$(I.overviewContent).html(v))}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)}),$(I.overviewTrigger).on("click",function(){$(I.loader).show(),$(I.setTagRange).find("option").attr("selected",!1),"nerfacetting"===I.currentPage?($(I.setTagRangeOverview).find('option[value="1"]').prop("selected",!0),localStorage.setItem("currentNerPageRange","1")):($(I.setTagRangeOverview).find('option[value="10"]').prop("selected",!0),localStorage.setItem("currentNerPageRange","10")),k=localStorage.getItem("currentNerPageRange"),localStorage.setItem("currentNerType","-"),C=localStorage.getItem("currentNerType"),s(),$(this).parent().hasClass("active")?console.info("Overview is already active."):(f="nerfacetting"===I.currentPage?u(1,"-"):u(10,"-"),(P=e.helper.getRemoteData(f)).then(function(e){t(h=e)}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)}))}),$(I.sectionTrigger).on("click",function(){$(I.loader).show(),$(I.setTagRange).find("option").attr("selected",!1),"nerfacetting"===I.currentPage?$(I.setTagRangeSection).find('option[value="5"]').prop("selected",!0):$(I.setTagRangeSection).find('option[value="10"]').prop("selected",!0),s(),"nerfacetting"===I.currentPage?localStorage.setItem("currentNerPageRange",5):localStorage.setItem("currentNerPageRange",10),k=localStorage.getItem("currentNerPageRange"),localStorage.setItem("currentNerType","-"),C=localStorage.getItem("currentNerType"),$(this).parent().hasClass("active")?console.info("Section is already active."):(a(),$(I.sliderSectionStripe).css("top","0px"))}),$(I.setTagRange).on("change",function(){var o=$(this).val();C=localStorage.getItem("currentNerType"),$(I.loader).show(),localStorage.setItem("currentNerPageRange",o),k=localStorage.getItem("currentNerPageRange"),$(this).hasClass("overview")?(null!==C&&""!==C||(C="-"),f=u(o,C),(P=e.helper.getRemoteData(f)).then(function(o){null!==(h=o)||"undefinded"!==h?t(h):(v=e.helper.renderAlert("alert-danger",I.msg.noJSON+"<br /><br />URL: "+f,!0),$(I.overviewContent).html(v))}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)})):(localStorage.setItem("currentNerPageRange",o),k=localStorage.getItem("currentNerPageRange"),a(),k>m?$(I.sliderSectionStripe).css({top:"0px",height:"600px"}):$(I.sliderSectionStripe).css({top:"0px",height:"100px"}))}),$(I.facettingTrigger).on("click",function(){var o=$(this).attr("data-type");$(I.loader).show(),localStorage.setItem("currentNerType",o),C=localStorage.getItem("currentNerType"),"nerfacetting"===I.currentPage?null!=k&&""!==k||(k=localStorage.setItem("currentNerPageRange",1)):null!=k&&""!==k||(k=localStorage.setItem("currentNerPageRange",10)),k=localStorage.getItem("currentNerPageRange"),$(".facetting-trigger").removeClass("active"),$(this).addClass("active"),$(".reset-filter").show(),"overview"===$(this).parent().parent().parent().attr("id")?(f=u(k,C),(P=e.helper.getRemoteData(f)).then(function(e){t(h=e),$(this).parent().hasClass("reset-filter")&&$(this).parent().hide(),"-"===C&&$(".facetting-trigger").addClass("active")}).then(null,function(t){$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+t.status+" "+t.statusText,!1)),console.error("ERROR: viewer.nerFacetting.init - ",t)})):(a(),$(this).parent().hasClass("reset-filter")&&$(this).parent().hide(),"-"===C&&$(".facetting-trigger").addClass("active"),$(I.sliderSectionStripe).css("top","0px"))})):$(".facetting-content").empty().append(e.helper.renderAlert("alert-danger","<strong>Deactivated: </strong>Not possible to write in local Storage!",!1))}},e}(n||{},jQuery)},{}],14:[function(e,t,o){"use strict";var n=function(e){function t(e){return l&&(console.log("viewer.nerFulltext _getRemoteData: target - "),console.log(e)),$(".ner-detail-loader",e).css({display:"inline-block"}),$.ajax({url:decodeURI($(e).attr("data-remotecontent")),type:"POST",dataType:"JSON",async:!1,complete:function(){$(".ner-detail-loader").hide()}}).responseText}function o(e){l&&console.log("viewer.nerFulltext _initNerPopover: path - "+e);var o,s,c,d,u,g,p;$(".ner-trigger").on("click",function(){$("body").find(".ner-popover-pointer").hide(),$("body").find(".ner-popover").remove(),o=t($(this)),s=$(this).position(),d={top:s.top,left:s.left,width:$(this).outerWidth()},u=$("#view_fulltext_wrapp"),g=u.position(),p={top:g.top,left:0,right:g.left+u.outerWidth()},c=$(this).attr("title"),u.append(n(o,r(d,p),c,e)),$(".ner-popover")&&($(this).find(".ner-popover-pointer").show(),i(),$(".ner-detail-trigger").on("click",function(){o=t($(this)),c=$(this).attr("title"),$(this).parent().next(".ner-popover-detail").html(a(o,c))}))})}function n(e,t,o,n){l&&(console.log("viewer.nerFulltext _renderNerPopover: data - "),console.log(e),console.log("viewer.nerFulltext _renderNerPopover: position - "),console.log(t),console.log("viewer.nerFulltext _renderNerPopover: title - "+o),console.log("viewer.nerFulltext _renderNerPopover: path - "+n));var a=t.top,r=t.left,i="";return i+='<div class="ner-popover" style="top:'+a+"px; left:"+r+'px">',i+='<div class="ner-popover-close" title="Fenster schlie&szlig;en">&times;</div>',i+='<div class="ner-popover-header"><h4>'+o+"</h4></div>",i+='<div class="ner-popover-body">',i+='<dl class="dl-horizontal">',$.each($.parseJSON(e),function(e,t){$.each(t,function(e,t){i+='<dt title="'+e+'">'+e+":</dt>";var o="";$.each(t,function(t,a){var r="";switch(e){case"Beruf":case"Verwandte Begriffe":r="glyphicon-briefcase";break;case"Sohn":case"Vater":r="glyphicon-user";break;case"Geburtsort":case"Sterbeort":r="glyphicon-map-marker"}a.url?(o+="<span ",o+='class="ner-detail-trigger" ',o+='title="'+a.text+'" ',o+='tabindex="-1"',o+='data-remotecontent="'+n+"/api?action=normdata&url="+a.url+'">',o+='<span class="glyphicon '+r+'"></span>&nbsp;',o+=a.text,o+='<span class="ner-detail-loader"></span>',o+="</span>"):o+="URI"===e?'<a href="'+a.text+'" target="_blank">'+a.text+"</a>":a.text,o+="<br />"}),i+="<dd>"+o+"</dd>",i+='<div class="ner-popover-detail"></div>'})}),i+="</dl>",i+="</div>",i+="</div>"}function a(e,t){l&&(console.log("viewer.nerFulltext _renderNerPopoverDetail: data - "),console.log(e),console.log("viewer.nerFulltext _renderNerPopoverDetail: title - "+t));var o="";return o+='<div class="ner-popover-detail">',o+='<div class="ner-popover-detail-header"><h4>'+t+"</h4></div>",o+='<div class="ner-popover-detail-body">',o+='<dl class="dl-horizontal">',$.each($.parseJSON(e),function(e,t){$.each(t,function(e,t){o+='<dt title="'+e+'">'+e+":</dt>";var n="";$.each(t,function(t,o){n+="URI"===e?'<a href="'+o.text+'" target="_blank">'+o.text+"</a>":o.text,n+="<br />"}),o+="<dd>"+n+"</dd>",o+='<div class="ner-popover-detail"></div>'})}),o+="</dl>",o+="</div>",o+="</div>"}function r(e,t){l&&(console.log("viewer.nerFulltext _calculateNerPopoverPosition: triggerCoords - "),console.log(e),console.log("viewer.nerFulltext _calculateNerPopoverPosition: textBoxCoords - "),console.log(t));var o,n=e.left-(150-e.width/2),a=n+300,r=t.left,i=t.right,s=n;return o=e.top+27,n<=r&&(s=r),a>=i&&(s=t.right-300),{top:o,left:s}}function i(){l&&console.log("viewer.nerFulltext _removeNerPopover"),$(".ner-popover-close").on("click",function(){$("body").find(".ner-popover-pointer").hide(),$(this).parent().remove()})}var l=!1,s={path:null,lang:{}};return e.nerFulltext={init:function(e){l&&(console.log("##############################"),console.log("viewer.nerFulltext.init"),console.log("##############################"),console.log("viewer.nerFulltext.init: config - "),console.log(e)),$.extend(!0,s,e),o(s.path)}},e}(n||{},jQuery)},{}],15:[function(e,t,o){"use strict";var n=function(e){function t(e,v){l&&(console.log("---------- _renderPopoverAction() ----------"),console.log("_renderPopoverAction: $Obj = ",e),console.log("_renderPopoverAction: id = ",v)),p=e.find(".fa-list-ul"),h=e.find(".normdata-preloader"),c=e.attr("data-remotecontent"),s=i(c,h,p),d=e.offset(),u=o(s,v),l&&(console.log("_renderPopoverAction: _dataURL = ",c),console.log("_renderPopoverAction: _data = ",s),console.log("_renderPopoverAction: _linkPos = ",d)),$("body").append(u),n(v,d,e),$(document).find("#normdataPopover-"+v).hide().fadeIn("fast",function(){e.attr("disabled","disabled").addClass("disabled"),e.tooltip("hide"),$(".normdataDetailLink").off("click").on("click",function(){t(g=$(this),f.id)})}).draggable(),a(e),f.id++,r(e)}function o(e,t){l&&(console.log("---------- _buildPopover() ----------"),console.log("_buildPopover: data = ",e),console.log("_buildPopover: id = ",t));var o="";return o+='<div id="normdataPopover-'+t+'" class="normdata-popover">',o+='<div class="normdata-popover-title">',o+="<h4>"+f.lang.popoverTitle+"</h4>",o+='<span class="normdata-popover-close glyphicon glyphicon-remove" title="'+f.lang.popoverClose+'"></span>',o+="</div>",o+='<div class="normdata-popover-content">',o+='<dl class="dl-horizontal">',$.each(e,function(e,t){$.each(t,function(e,t){o+='<dt title="'+e+'">'+e+"</dt>",o+="<dd>",$.each(t,function(t,n){n.text&&("URI"===e?(o+='<a href="'+n.text+'" target="_blank">',o+=n.text,o+="</a>"):o+=n.text),n.identifier&&(o+='<a href="'+f.path+"/search/-/"+n.identifier+'/1/">',o+='<span class="glyphicon glyphicon-search"></span>',o+="</a>"),n.url&&(o+='<button type="button" class="normdataDetailLink" data-remotecontent="',o+=f.path,o+="/api?action=normdata&amp;url=",o+=n.url,o+='" title="'+f.lang.showNormdata+'">',o+='<i class="fa fa-list-ul" aria-hidden="true"></i>',o+='<div class="normdata-preloader"></div>',o+="</button>"),o+="<br />"}),o+="</dd>"})}),o+="</dl>",o+="</div>",o+="</div>"}function n(e,t,o){l&&(console.log("---------- _calculatePopoverPosition() ----------"),console.log("_calculatePopoverPosition: id = ",e),console.log("_calculatePopoverPosition: pos = ",t),console.log("_calculatePopoverPosition: $Obj = ",o));var n=$("body").outerWidth(),a=$("#normdataPopover-"+e).outerWidth(),r=t.left+a;if(l&&(console.log("_calculatePopoverPosition: _bodyWidth = ",n),console.log("_calculatePopoverPosition: _popoverWidth = ",a),console.log("_calculatePopoverPosition: _popoverLeft = ",t.left),console.log("_calculatePopoverPosition: _popoverRight = ",r)),r>n){var i=r-n;l&&console.log("_calculatePopoverPosition: _diff = ",i),$(document).find("#normdataPopover-"+e).css({top:t.top+o.outerHeight()+5,left:t.left-i})}else $(document).find("#normdataPopover-"+e).css({top:t.top+o.outerHeight()+5,left:t.left})}function a(e){l&&(console.log("---------- _closeNormdataPopover() ----------"),console.log("_closeNormdataPopover: $Obj = ",e)),$(document).find(".normdata-popover-close").on("click",function(){$(this).parent().parent().remove(),e.removeAttr("disabled").removeClass("disabled"),$(".normdata-popover").length<1&&$(".closeAllPopovers").hide()})}function r(e){l&&(console.log("---------- _closeAllNormdataPopovers() ----------"),console.log("_closeAllNormdataPopovers: $Obj = ",e));var t=e.parent().find("i.closeAllPopovers");$(".normdata-popover").length>0?(t.show(),t.on("click",function(){$(".normdata-popover").each(function(){$(this).remove()}),$(".closeAllPopovers").each(function(){$(this).hide()}),$(".normdataLink").removeAttr("disabled").removeClass("disabled")})):t.hide()}function i(e,t,o){l&&(console.log("---------- _getRemoteData() ----------"),console.log("_getRemoteData: url = ",e),console.log("_getRemoteData: loader = ",t),console.log("_getRemoteData: icon = ",o)),t.show(),o.hide();var n=$.ajax({url:decodeURI(e),type:"POST",dataType:"JSON",async:!1,success:function(){t.hide(),o.show()}}).responseText;return jQuery.parseJSON(n)}var l=!1,s=null,c="",s="",d=null,u="",g=null,p=null,h=null,f={id:0,path:null,lang:{},elemWrapper:null};return e.normdata={init:function(e){l&&(console.log("##############################"),console.log("viewer.normdata.init"),console.log("##############################"),console.log("viewer.normdata.init: config = ",e)),$.extend(!0,f,e),$(".closeAllPopovers").hide(),$(".normdataLink").on("click",function(){console.log("Click on normdata"),(g=$(this)).off("focus"),t(g,f.id)})}},e}(n||{},jQuery)},{}],16:[function(e,t,o){"use strict";var n=function(e){function t(e){return $("html,body").animate({scrollTop:$(e).offset().top},1e3),!1}var o=null,n=null;return e.pageScroll={init:function(e,a){o=$(e),n=a,$(window).on("scroll",function(){window.pageYOffset>200?o.fadeIn():o.hide()}),o.on("click",function(){t(n)})}},e}(n||{},jQuery)},{}],17:[function(e,t,o){"use strict";var n=function(e){var t={themePath:"",imagePath:"",imageDataFile:"",galleryObject:null,maxColumnCount:null,maxImagesPerColumn:null,fixedHeight:!1,maxHeight:"",caption:!0,overlayColor:"",lang:{},lightbox:{active:!0,caption:!0}},o=null,n=null,a=null,r=null,i=null,l=null,s=null;return e.responsiveColumnGallery={init:function(c){$.extend(!0,t,c),s=t.themePath+t.imageDataFile,(o=e.helper.getRemoteData(s)).then(function(o){if(n=o,l=e.responsiveColumnGallery.checkForSmallViewport(),t.maxColumnCount>4)return t.galleryObject.append(e.helper.renderAlert("alert-danger","Die maximale Spaltenanzahl für die Galerie beträgt 4!",!0)),!1;for(var s=0;s<t.maxColumnCount;s++)t.galleryObject.append(e.responsiveColumnGallery.renderColumns(t.maxColumnCount));for(;n.length;)$.each($(".rcg-col"),function(){$(this).append(e.responsiveColumnGallery.renderImages(n.splice(0,t.maxImagesPerColumn)))});t.fixedHeight&&!l&&$.each($(".rcg-image-body"),function(){e.responsiveColumnGallery.fixedHeight($(this))}),t.lightbox.active&&$(".lightbox-toggle").on("click",function(t){t.preventDefault(),a=$(this).parent().children("img"),r=e.responsiveColumnGallery.prepareLightbox(a),i=e.responsiveColumnGallery.renderLightbox(r),$("body").append(i),$(".rcg-lightbox-body").hide(),$(".rcg-lightbox-overlay").fadeIn("slow"),$(".rcg-lightbox-image img").load(function(){e.responsiveColumnGallery.centerLightbox($(".rcg-lightbox-body")),$(".rcg-lightbox-body").show()}),$(".rcg-lightbox-close").on("click",function(){$(".rcg-lightbox-overlay").remove()}),$(document).keypress(function(e){27===e.keyCode&&$(".rcg-lightbox-overlay").remove()}),$(".rcg-lightbox-image img").on("click",function(){$(".rcg-lightbox-overlay").remove()})})}).then(null,function(o){t.galleryObject.append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+o.status+" "+o.statusText,!1)),console.error("ERROR: viewer.responsiveColumnGallery.init - ",o)})},renderColumns:function(e){var t="";return t+='<div class="rcg-col col-'+e+'"></div>'},renderImages:function(e){var o="";return $.each(e,function(e,n){$.each(n,function(e,n){o+='<div class="rcg-image-container">',o+='<div class="rcg-image-body">',o+='<a href="'+n.url+'">',o+='<div class="rcg-image-overlay" style="background-color:'+t.overlayColor+'"></div>',o+="</a>",o+='<div class="rcg-image-title">',o+="<h4>"+n.title+"</h4>",o+="</div>",o+='<img src="'+t.themePath+t.imagePath+n.name+'" alt="'+n.alt+'" />',t.lightbox.active&&(o+='<div class="lightbox-toggle" title="'+t.lang.showLightbox+'">',o+='<span class="glyphicon glyphicon-fullscreen"></span>',o+="</div>"),o+="</div>",t.caption&&(o+='<div class="rcg-image-footer">',o+="<p>"+n.caption+'<a href="'+n.url+'" title="'+n.title+'">',o+=t.lang.goToWork+' <span class="glyphicon glyphicon glyphicon-picture"></span></a></p>',o+="</div>"),o+="</div>"})}),o},fixedHeight:function(e){e.children("img").css({height:t.maxHeight})},checkForSmallViewport:function(){return $(window).outerWidth()<=375},prepareLightbox:function(e){var t={};return t.src=e.attr("src"),t.caption=e.attr("alt"),t},renderLightbox:function(e){var o="";return o+='<div class="rcg-lightbox-overlay">',o+='<div class="rcg-lightbox-body">',o+='<div class="rcg-lightbox-close" title="'+t.lang.close+'"><span class="glyphicon glyphicon-remove"></span></div>',o+='<div class="rcg-lightbox-image">',o+='<img src="'+e.src+'" alt="'+e.alt+'" />',o+="</div>",t.lightbox.caption&&(o+='<div class="rcg-lightbox-caption">',o+="<p>"+e.caption+"</p>",o+="</div>"),o+="</div>",o+="</div>"},centerLightbox:function(e){var t=e.outerWidth(),o=e.outerHeight();e.css({"margin-top":"-"+o/2+"px","margin-left":"-"+t/2+"px"})}},e}(n||{},jQuery)},{}],18:[function(e,t,o){"use strict";var n=function(e){function t(){a&&console.log("---------- _setAdvSearchValues() ----------"),$(i.inputSelector).off().on("keyup",function(){var e=$(this).attr("id"),t=$(this).val(),o=JSON.parse(localStorage.getItem("advSearchValues"));if(o.hasOwnProperty(t))return!1;o[e]=t,localStorage.setItem("advSearchValues",JSON.stringify(o))})}function o(){a&&console.log("---------- _getAdvSearchValues() ----------");var e=JSON.parse(localStorage.getItem("advSearchValues"));$.each(e,function(e,t){$("#"+e).val(t)})}function n(){a&&console.log("---------- _resetValue() ----------"),$(i.resetSelector).off().on("click",function(){var e=$(this).parents(".input-group").find("input").attr("id"),t=JSON.parse(localStorage.getItem("advSearchValues"));t.hasOwnProperty(e)&&delete t[e],localStorage.setItem("advSearchValues",JSON.stringify(t)),$(this).parents(".input-group").find("input").val("")})}var a=!1,r={},i={loaderSelector:".search-advanced__loader",inputSelector:".value-text",resetSelector:".reset"};return e.searchAdvanced={init:function(l){if(a&&(console.log("##############################"),console.log("viewer.searchAdvanced.init"),console.log("##############################"),console.log("viewer.searchAdvanced.init: config = ",l)),$.extend(!0,i,l),$('[data-toggle="tooltip"]').tooltip(),!e.localStoragePossible)return!1;localStorage.setItem("advSearchValues",JSON.stringify(r)),t(),n(),jsf.ajax.addOnEvent(function(e){switch(e.status){case"begin":$(i.loaderSelector).show();break;case"success":$('[data-toggle="tooltip"]').tooltip(),t(),o(),n(),$("select").each(function(){"disabled"===$(this).attr("disabled")?$(this).parent().addClass("disabled"):$(this).parent().removeClass("disabled")}),$(i.loaderSelector).hide()}})}},e}(n||{},jQuery)},{}],19:[function(e,t,o){"use strict";var n=function(e){function t(e,t){return l&&(console.log("---------- _getApiUrl() ----------"),console.log("_getApiUrl: id = ",e)),c.contextPath+c.restApiPath+e+"/"+t+"/"}function o(e,t){l&&(console.log("---------- _renderChildHits() ----------"),console.log("_renderChildHits: data = ",e),console.log("_renderChildHits: $this = ",t));var o=null;t.next().empty(),$.each(e.children,function(e,i){(o=$('<div class="search-list__hit-content-set" />')).append(n(i.browseElement)),o.append(a(i.foundMetadata,i.url)),i.hasChildren&&$.each(i.children,function(e,t){o.append(r(t.browseElement,t.type))}),t.next().append(o)})}function n(e){l&&(console.log("---------- _renderHitSetTitle() ----------"),console.log("_renderHitSetTitle: data = ",e));var t=null,o=null,n=null;return t=$('<div class="search-list__struct-title" />'),o=$("<h5 />"),(n=$("<a />")).attr("href",c.contextPath+"/"+e.url),n.append(e.labelShort),o.append(n),t.append(o),t}function a(e,t){l&&(console.log("---------- _renderMetdataInfo() ----------"),console.log("_renderMetdataInfo: data = ",e),console.log("_renderMetdataInfo: url = ",t));var o=null,n=null,a=null,r=null,i=null,s=null,d=null,u=null,g=null;if(!$.isEmptyObject(e))return o=$('<div class="search-list__metadata-info" />'),n=$("<table />"),a=$("<tbody />"),e.forEach(function(e){i=$("<td />"),d=$("<i />").attr("aria-hidden","true").addClass("fa fa-bookmark-o"),u=$("<a />").attr("href",c.contextPath+"/"+t).html(e.one+":"),i.append(d).append(u),s=$("<td />"),g=$("<a />").attr("href",c.contextPath+"/"+t).html(e.two),s.append(g),(r=$("<tr />")).append(i).append(s),a.append(r)}),n.append(a),o.append(n),o}function r(e,t){l&&(console.log("---------- _renderSubChildHits() ----------"),console.log("_renderSubChildHits: data = ",e),console.log("_renderSubChildHits: type = ",t));var o=null,n=null,a=null,r=null,i=null;switch(o=$('<div class="search-list__struct-child-hits" />'),n=$('<dl class="dl-horizontal" />'),a=$("<dt />"),t){case"PAGE":a.append('<i class="fa fa-file-text" aria-hidden="true"></i>');break;case"PERSON":a.append('<i class="fa fa-user" aria-hidden="true"></i>');break;case"CORPORATION":a.append('<i class="fa fa-university" aria-hidden="true"></i>');break;case"LOCATION":a.append('<i class="fa fa-location-arrow" aria-hidden="true"></i>');break;case"SUBJECT":a.append('<i class="fa fa-question-circle-o" aria-hidden="true"></i>');break;case"PUBLISHER":a.append('<i class="fa fa-copyright" aria-hidden="true"></i>');break;case"EVENT":a.append('<i class="fa fa-calendar" aria-hidden="true"></i>');break;case"ACCESSDENIED":a.append('<i class="fa fa-lock" aria-hidden="true"></i>')}switch(r=$("<dd />"),i=$("<a />").attr("href",c.contextPath+"/"+e.url),t){case"PAGE":case"ACCESSDENIED":i.append(e.fulltextForHtml);break;default:i.append(e.labelShort)}return r.append(i),n.append(a).append(r),o.append(n),o}function i(n,a,r){l&&(console.log("---------- _renderGetMoreChildren() ----------"),console.log("_renderGetMoreChildren: data = ",n),console.log("_renderGetMoreChildren: iddoc = ",a),console.log("_renderGetMoreChildren: $this = ",r));var d=t(a,c.hitsPerCall+n.hitsDisplayed),u=$("<div />"),g=$('<button type="button" />');if(!n.hasMoreChildren)return r.next().find(c.hitContentMoreSelector).empty().hide(),console.info("_renderGetMoreChildren: No more child hits available"),!1;u.addClass("search-list__hit-content-more"),g.addClass("btn-clean"),g.attr("data-api",d),g.attr("data-iddoc",a),g.append(c.msg.getMoreChildren),u.append(g),r.next().append(u),g.off().on("click",function(t){var n=$(this).attr("data-api");r.parent().offset().top;(s=e.helper.getRemoteData(n)).then(function(e){o(e,r),i(e,a,r)}).then(null,function(){r.next().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+error.status+" "+error.statusText,!1)),console.error("ERROR: _renderGetMoreChildren - ",error)})})}var l=!1,s=null,c={contextPath:"",restApiPath:"/rest/search/hit/",hitsPerCall:20,resetSearchSelector:"#resetCurrentSearch",searchInputSelector:"#currentSearchInput",searchTriggerSelector:"#slCurrentSearchTrigger",saveSearchModalSelector:"#saveSearchModal",saveSearchInputSelector:"#saveSearchInput",excelExportSelector:".excel-export-trigger",excelExportLoaderSelector:".excel-export-loader",hitContentLoaderSelector:".search-list__loader",hitContentSelector:".search-list__hit-content",msg:{getMoreChildren:"Mehr Treffer laden"}};return e.searchList={init:function(n){l&&(console.log("##############################"),console.log("viewer.searchList.init"),console.log("##############################"),console.log("viewer.searchList.init: config = ",n)),$.extend(!0,c,n),$('[data-toggle="tooltip"]').tooltip(),$(c.saveSearchModalSelector).on("shown.bs.modal",function(){$(c.saveSearchInputSelector).focus()}),$(c.resetSearchSelector).on("click",function(){$(c.searchInputSelector).val(""),location.href=c.contextPath+"/search/"}),$(c.excelExportSelector).on("click",function(){var e=$(this),t=$(c.excelExportLoaderSelector);e.hide(),t.show();var o=c.contextPath+"/rest/download/search/waitFor/";Q($.ajax({url:decodeURI(o),type:"GET",dataType:"text",async:!0})).then(function(o){l&&console.log("Download started"),t.hide(),e.show()}).catch(function(o){l&&console.log("Error downloading excel sheet: ",o.responseText),t.hide(),e.show()})}),$('[data-toggle="hit-content"]').each(function(){var n=$(this),a=$(this).attr("data-iddoc"),r=t(a,c.hitsPerCall);l&&console.log("Current API Call URL: ",r),s=e.helper.getRemoteData(r),n.find(c.hitContentLoaderSelector).css("display","inline-block"),s.then(function(e){e.hitsDisplayed<c.hitsPerCall?(o(e,n),n.toggleClass("in").find(c.hitContentLoaderSelector).hide(),n.next().show(),n.off().on("click",function(){$(this).toggleClass("in").next().slideToggle()})):(n.find(c.hitContentLoaderSelector).hide(),n.off().on("click",function(){o(e,n),i(e,a,n),$(this).toggleClass("in").next().slideToggle()}))}).then(null,function(){n.next().append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+error.status+" "+error.statusText,!1)),console.error("ERROR: viewer.searchList.init - ",error)})})}},e}(n||{},jQuery)},{}],20:[function(e,t,o){"use strict";var n=function(e){var t="",o="",n="",a="",r="",i="",l={select:"#sortSelect"};return e.searchSortingDropdown={init:function(s){if($.extend(!0,l,s),!e.localStoragePossible)return!1;t=localStorage.dataSortField,n=location.href,""===t&&"undefinded"===t||$(l.select).children("option").each(function(){o=$(this).attr("data-sortField"),r=$(this).val(),o===t&&r===n&&$(this).attr("selected","selected")}),$(l.select).on("change",function(){if(a=$(this).val(),i=$(this).children("option:selected").attr("data-sortField"),""!==a){if("undefined"==typeof Storage)return console.info("Local Storage is not defined. Current sorting state could not be saved."),!1;localStorage.dataSortField=i,window.location.href=a}})}},e}(n||{},jQuery)},{}],21:[function(e,t,o){"use strict";var n=function(e){function t(e){return i=e.attr("data-imgpath")}function o(e){return l=e.attr("data-imgname")}function n(e,t){var o="";return o='<div class="lightbox-overlay">',o+='<div class="lightbox-modal-box">',o+='<div class="lightbox-close">',o+='<span class="lightbox-close-btn" title="Fenster schlie&szlig;en">&times;</span>',o+="</div>",o+='<img src="'+e+t+'" alt="'+t+'" /></div></div>'}function a(e){var t=e.outerWidth(),o=e.outerHeight();e.css({"margin-top":"-"+o/2+"px","margin-left":"-"+t/2+"px"})}var r=null,i=null,l=null;return e.simpleLightBox={init:function(){$(".lightbox-image").on("click",function(e){e.preventDefault();var s=$(this);i=t(s),l=o(s),r=n(i,l),$("body").append(r),a($(".lightbox-modal-box")),$(".lightbox-overlay").fadeIn(),$(".lightbox-close-btn").on("click",function(){$(".lightbox-overlay").remove()})})}},e}(n||{},jQuery)},{}],22:[function(e,t,o){"use strict";var n=function(e){var t=null,o=null,n={thumbs:".stacked-thumbnail",thumbsBefore:".stacked-thumbnail-before",thumbsAfter:".stacked-thumbnail-after"};return e.stackedThumbnails={init:function(e){$.extend(!0,n,e),$(n.thumbs).hide(),$(n.thumbs).siblings().hide(),$(n.thumbs).each(function(){t=$(this).outerWidth(),o=$(this).outerHeight(),$(this).css({"margin-left":"-"+t/2+"px"}),$(this).siblings().css({width:t,height:o,"margin-left":"-"+t/2+"px"}),$(this).show(),$(this).siblings(n.thumbsBefore).fadeIn("slow",function(){$(this).siblings(n.thumbsAfter).fadeIn()})})}},e}(n||{},jQuery)},{}],23:[function(e,t,o){"use strict";var n=function(e){function t(e){i&&(console.log("viewer.timematrix _renderThumbs: json - "),console.log(e));var t="";return t+='<div class="timematrix-box">',t+='<header class="timematrix-header">',""!==c.startDate&&""!==c.endDate&&(t+="<h3>"+c.startDate+" - "+c.endDate+"</h3>"),t+="</header>",t+='<section class="timematrix-body">',$.each(e,function(e,o){t+='<div class="timematrix-thumb" data-title="'+o.title+'" data-mediumimage="'+o.mediumimage+'" data-url="'+o.url+'">',o.thumbnailUrl?t+='<img src="'+o.thumbnailUrl+'" style="visibility: hidden;" />':t+="",t+="</div>"}),t+="</section>",t+='<footer class="timematrix-footer"></footer>',t+="</div>"}function o(t,o){i&&(console.log("viewer.timematrix _renderPopover: obj - "),console.log(t),console.log("viewer.timematrix _renderPopover: lang - "+o));var a=t.attr("data-title"),r=t.attr("data-mediumimage"),l=t.attr("data-url"),s=t.position(),d=n({top:s.top,left:s.left,width:t.outerWidth()},c.$tmCanvasCoords),u="";u+='<div class="timematrix-popover" style="top: '+d.top+"px; left: "+d.left+'px;">',u+='<span class="timematrix-popover-close" title="'+o.closeWindow+'">&times;</span>',u+='<header class="timematrix-popover-header">',u+='<h4 title="'+a+'">'+e.helper.truncateString(a,75)+"</h4>",u+="</header>",u+='<section class="timematrix-popover-body">',u+='<div class="timematrix-popover-imageloader"></div>',u+='<a href="'+l+'"><img src="'+r+'" /></a>',u+="</section>",u+='<footer class="timematrix-popover-footer">',u+='<a href="'+l+'" title="'+a+'">'+o.goToWork+"</a>",u+="</footer>",u+="</div>",c.$tmCanvas.append(u)}function n(e,t){i&&(console.log("viewer.timematrix _calculatePopoverPosition: triggerCoords - "),console.log(e),console.log("viewer.timematrix _calculatePopoverPosition: tmCanvasCoords - "),console.log(t));var o,n=e.left-(150-e.width/2),a=n+300,r=t.left,l=t.right,s=n;return o=e.top+$(".timematrix-thumb").outerHeight()-1,n<=r&&(s=r),a>=l&&(s=t.right-300),{top:o,left:s}}function a(e,t){return i&&(console.log("viewer.timematrix _renderSliderBubble: time - "+e),console.log("viewer.timematrix _renderSliderBubble: val - "+t)),'<div class="timematrix-slider-bubble-'+e+'">'+t+"</div>"}function r(){i&&console.log("---------- _removePopovers() ----------"),$(".timematrix-popover").remove(),$(".timematrix-thumb").removeClass("marker")}var i=!1,l=null,s=null,c={contextPath:null,apiQuery:"api?action=timeline",startDateQuery:"&startDate=",rangeInput1:null,startDate:null,endDateQuery:"&endDate=",rangeInput2:null,endDate:null,countQuery:"&count=",count:null,$tmCanvas:null,$tmCanvasPos:null,$tmCanvasCoords:{},lang:{}};return e.timematrix={init:function(n){i&&(console.log("##############################"),console.log("viewer.timematrix.init"),console.log("##############################"),console.log("viewer.timematrix.init: config - "),console.log(n)),$.extend(!0,c,n),c.$tmCanvasCoords={top:c.$tmCanvasPos.top,left:0,right:c.$tmCanvasPos.left+c.$tmCanvas.outerWidth()},$("#slider-range").slider({range:!0,min:parseInt(c.startDate),max:parseInt(c.endDate),values:[parseInt(c.startDate),parseInt(c.endDate)],slide:function(e,t){c.rangeInput1.val(t.values[0]),$(".timematrix-slider-bubble-startDate").html(t.values[0]),c.startDate=t.values[0],c.rangeInput1.val(t.values[1]),$(".timematrix-slider-bubble-endDate").html(t.values[1]),c.endDate=t.values[1]}}),$("#slider-range .ui-slider-range").next().append(a("startDate",c.startDate)),$("#slider-range .ui-slider-range").next().next().append(a("endDate",c.endDate)),$(".ui-slider-handle").on("mousedown",function(){$(".ui-slider-handle").removeClass("top"),$(this).addClass("top")}),$("#locateTimematrix").on("submit",function(n){n.preventDefault(),$(".timematrix-popover").length&&$(".timematrix-popover").remove();var a=c.contextPath;a+=c.apiQuery,a+=c.startDateQuery,a+=c.startDate,a+=c.endDateQuery,a+=c.endDate,a+=c.countQuery,a+=c.count,(l=e.helper.getRemoteData(a)).then(function(e){s=e,c.$tmCanvas.html(t(s)),$(".timematrix-thumb").css({height:$(".timematrix-thumb").outerWidth()}),$(".timematrix-thumb img").load(function(){$(this).css({visibility:"visible"})}),$(".timematrix-thumb").on("click",function(){$(".timematrix-popover")?($(".timematrix-popover").remove(),$(".timematrix-thumb").removeClass("marker"),$(this).addClass("marker"),o($(this),c.lang)):($(".timematrix-thumb").removeClass("marker"),$(this).addClass("marker"),o($(this),c.lang)),$(".timematrix-popover-close").on("click",function(){$(this).parent().remove(),$(".timematrix-thumb").removeClass("marker")}),$(".timematrix-popover-body img").load(function(){$(".timematrix-popover-imageloader").hide()})})}).then(null,function(){c.$tmCanvas.append(e.helper.renderAlert("alert-danger","<strong>Status: </strong>"+error.status+" "+error.statusText,!1)),console.error("ERROR: viewer.timematrix.init - ",error)})}),$("body").on("click",function(e){$(e.target).closest(".timematrix-thumb").length||r()})}},e}(n||{},jQuery)},{}],24:[function(e,t,o){"use strict";var n=function(e){var t={currLang:"de",selector:"textarea.tinyMCE",width:"100%",height:400,theme:"modern",plugins:"print preview paste searchreplace autolink directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists textcolor wordcount spellchecker imagetools media contextmenu colorpicker textpattern help",toolbar:"formatselect | undo redo | bold italic underline strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | fullscreen code",menubar:!1,statusbar:!1,pagebreak_separator:'<span class="pagebreak"></span>',relative_urls:!1,force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",language:"de"};return e.tinyMce={init:function(e){switch($.extend(!0,t,e),t.currLang){case"de":t.language="de";break;case"es":t.language="es";break;case"pt":t.language="pt_PT";break;case"ru":t.language="ru"}tinymce.init(t)},overview:function(){$(".overview__description-editor").length>0?n.tinyConfig.setup=function(e){e.on("init",function(e){$(".overview__publication-action .btn").hide()}),e.on("FullscreenStateChanged",function(e){e.state?$(".overview__description-action-fullscreen").addClass("in"):$(".overview__description-action-fullscreen").removeClass("in")})}:n.tinyConfig.setup=function(e){e.on("init",function(e){$(".overview__description-action .btn").hide()}),e.on("FullscreenStateChanged",function(e){e.state?$(".overview__publication-action-fullscreen").addClass("in"):$(".overview__publication-action-fullscreen").removeClass("in")})}}},e}(n||{},jQuery)},{}],25:[function(e,t,o){"use strict";var n=function(e){var t=!1;return e.userDropdown={init:function(){$(".bookshelf-navigation__dropdown").length>0&&(t=!0),$('[data-toggle="login-dropdown"]').on("click",function(e){e.stopPropagation(),t&&($(".bookshelf-navigation__dropdown").hide(),$(".bookshelf-popup").remove()),$(".navigation__collection-panel").length>0&&$(".navigation__collection-panel").hide(),$(".login-navigation__login-dropdown").slideToggle("fast")}),$('[data-toggle="user-dropdown"]').on("click",function(e){e.stopPropagation(),t&&($(".bookshelf-navigation__dropdown").hide(),$(".bookshelf-popup").remove()),$(".navigation__collection-panel").length>0&&$(".navigation__collection-panel").hide(),$(".login-navigation__user-dropdown").slideToggle("fast")}),$('[data-toggle="retrieve-account"]').on("click",function(){$(".login-navigation__retrieve-account").addClass("in")}),$('[data-dismiss="retrieve-account"]').on("click",function(){$(".login-navigation__retrieve-account").removeClass("in")}),$("body").on("click",function(e){var t=$(e.target),o=$(".login-navigation__user-dropdown, .login-navigation__login-dropdown"),n=o.find("*");t.is(o)||t.is(n)||o.hide()})}},e}(n||{},jQuery)},{}],26:[function(e,t,o){"use strict";var n=function(e){var t={versions:[],json:null,imgUrl:"",imgPi:"",versionLink:"",widgetInputs:"",widgetList:""};return e.versionHistory={init:function(e){$.extend(!0,t,e),$(t.widgetInputs).each(function(){t.versions.push($(this).val())});for(var o=0;o<t.versions.length;o++)t.json=JSON.parse(t.versions[o]),t.json.id===t.imgPi?(t.versionLink="<li><span>",void 0!=t.json.label&&""!=t.json.label?t.versionLink+=t.json.label:(t.versionLink+=t.json.id,void 0!=t.json.year&&""!=t.json.year&&(t.versionLink+=" ("+t.json.year+")")),t.versionLink+="</span></li>",$(t.widgetList).append(t.versionLink)):(t.versionLink='<li><a href="'+t.imgUrl+"/"+t.json.id+'/1/">',void 0!=t.json.label&&""!=t.json.label?t.versionLink+=t.json.label:(t.versionLink+=t.json.id,void 0!=t.json.year&&""!=t.json.year&&(t.versionLink+=" ("+t.json.year+")")),t.versionLink+="</a></li>",$(t.widgetList).append(t.versionLink))}},e}(n||{},jQuery)},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]);