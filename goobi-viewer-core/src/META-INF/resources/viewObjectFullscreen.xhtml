 <ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:viewer="http://xmlns.jcp.org/jsf/composite/components/partner"
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components" 
	xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
	template="/resources/themes/#{navigationHelper.theme}/templateFullscreen.html">

    <!-- METADATA -->
    <ui:define name="metadata">
        <f:metadata>
            <f:event type="preRenderView" listener="#{navigationHelper.setCurrentView('fullscreen')}" />
        </f:metadata>
    </ui:define>

    <!-- HEAD -->
    <ui:define name="head">
        <f:view contentType="text/html" encoding="utf-8">
            <h:outputText escape="false" value="#{activeDocumentBean.viewManager.dublinCoreMetaTags}" rendered="#{configurationBean.addDublinCoreMetaTags}" />
            <h:outputText escape="false" value="#{activeDocumentBean.viewManager.highwirePressMetaTags}" rendered="#{configurationBean.addHighwirePressMetaTags}" />
        </f:view>
    </ui:define>
    
    <!-- CONTENT FULLSCREEN -->
    <ui:define name="content-fullscreen">
        <f:view contentType="text/html" encoding="utf-8">
            <!-- COinS -->
            <span class="Z3988" title="#{activeDocumentBean.viewManager.contextObject}"></span>
            
            <!-- MESSAGES -->
            <div class="messages">
                <h:messages infoClass="alert alert-success" errorClass="alert alert-danger" />
            </div>
            
            <!-- VIEW -->
            <div class="fullscreen">
                <!-- LAYOUT -->
                <ui:include src="/resources/includes/fullscreen/fs_layout.xhtml" />
            </div>
            
            <script>
                // mount riot tags
	            var fsConfig = {
                	thumbnailUrl: "#{request.contextPath}" + "/rest/iiif/manifests/#{activeDocumentBean.persistentIdentifier}/#{navigationHelper.currentPage}/thumbnails/",
                	msg: {
                		showThumbs: "#{msg.fullscreen_showThumbs}",
                		hideThumbs: "#{msg.fullscreen_hideThumbs}"
                	}
                };
                riot.mount( 'fsThumbnails, fsThumbnailImage', fsConfig );
                
                var normdataConfig = {
                        path: "#{request.contextPath}",
                        lang: {
                            popoverTitle: "#{msg.normdataPopverTitle}",
                            popoverClose: "#{msg.normdataPopoverClose}",
                            showNormdata: "#{msg.normdataExpand}"
                        },
                        elemWrapper: $( "#metadataElementWrapper" )
                    };
                
                    viewerJS.normdata.init( normdataConfig );
            </script>
        </f:view>
    </ui:define>
</ui:composition>
