<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:viewer="http://xmlns.jcp.org/jsf/composite/components/partner"
                xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components" 
                xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
                template="/resources/themes/#{navigationHelper.theme}/templateBlank.html">

    
    <ui:define name="head">
        
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/libs/swagger/swagger-ui.css"/>
        <script type="text/javascript" src="#{request.contextPath}/resources/javascript/libs/swagger/swagger-ui-bundle.js"/>
        
    </ui:define>
    
    <ui:define name="content">
        
        <div id="swagger-container"></div>
        
        <script>
	        fetch("#{request.contextPath}/rest/openapi.json")
	        .then(res => res.json())
	        .then(json => {
	            json.servers = [
	                {
	                    url: "#{configurationBean.restApiUrl}"
	                }
	            ]
	          return json;
	        })
	        .then(json => {
	            const ui = SwaggerUIBundle({
	        	    dom_id: '#swagger-container',
	        	    spec: json,
	        	  });
	        })
        	
        
        </script>
        
    </ui:define>

</ui:composition>