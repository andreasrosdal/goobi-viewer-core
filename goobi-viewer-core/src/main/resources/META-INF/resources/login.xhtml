<!DOCTYPE html [
	<!ENTITY copy "&#169;">
	<!ENTITY times "&#215;">
	<!ENTITY nbsp "&#160;">
]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
     xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" 
    xmlns:viewer="http://xmlns.jcp.org/jsf/composite/components/partner"
    xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components" 
    xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
    xmlns:templateComponent="http://xmlns.jcp.org/jsf/composite/themes/reference/components">

          <!-- METADATA -->
	    <ui:define name="metadata">
	        <f:metadata>
	        	<f:viewParam name="from" value="#{userBean.redirectUrl}" />
	        </f:metadata>
	    </ui:define>
	    
	  <meta name="git-revision" content="#{navigationHelper.buildVersion}" />

      <h:head profile="http://dublincore.org/documents/dcq-html/">

		<ui:insert name="head" />

		<title>Goobi viewer - Login</title>
		
		<!-- FAVICON -->
    	<link rel="shortcut icon" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/images/template/favicon.ico" />

	    <!-- BASIC CSS -->
	    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/bs/bootstrap.custom.css?${navigationHelper.buildVersion}" />
	    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/jQueryUI-1.12.1/jquery-ui.min.css" />
	    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/jQueryUI-1.12.1/jquery-ui.structure.min.css" />
	    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/font-awesome.min.css" />
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/dist/viewer.min.css?${navigationHelper.buildVersion}" />

		<!-- CUSTOM CSS -->
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/css/dist/#{navigationHelper.theme}.min.css" />

	    <!-- SUBTHEME CSS -->
	    <h:panelGroup rendered="#{navigationHelper.subthemeSelected and navigationHelper.subThemeDiscriminatorValue!='-'}">
	        <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/css/dist/#{navigationHelper.subThemeDiscriminatorValue}.min.css" />
	    </h:panelGroup> 


		<!-- FORCES PRIMEFACES TO INCLUDE JQUERY & JQUERY-UI -->
	    <h:outputScript library="primefaces" name="/jquery/jquery.js" target="head" />
	    <h:outputScript library="primefaces" name="/jquery/jquery-plugins.js" target="head" />
	    
	   	<!-- JAVASCRIPT LIBS -->
	    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/libs/bs/bootstrap.bundle.min.js"></script>

	    <!-- JAVASCRIPT DIST FILES -->
	    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/libs/reactiveX/rxjs.umd.min.js?${navigationHelper.buildVersion}"></script>
    	<script type="text/javascript" src="#{request.contextPath}/resources/javascript/dist/browsersupport.min.js?${navigationHelper.buildVersion}"></script>
	    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/dist/viewer.min.js?${navigationHelper.buildVersion}"></script>

	</h:head>

    <h:body id="login-body">

   		<!-- MESSAGES -->
		<div class="messages">
			<h:messages infoClass="alert alert-success" errorClass="alert alert-danger" />
		</div>

		<viewerComponent:modalUserLogin id="loginComponent" >
			<ui:param value="true" name="alwaysVisible" />
		</viewerComponent:modalUserLogin>
		
    	<script>
    		viewerJS.userLogin.init();
		</script>
    </h:body>
</html>
