<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:cmsComponent="http://xmlns.jcp.org/jsf/composite/cms/components"
	xmlns:formComponent="http://xmlns.jcp.org/jsf/composite/components/forms"
	xmlns:adminWidget="http://xmlns.jcp.org/jsf/composite/admin/widgets"
	template="/resources/themes/#{navigationHelper.theme}/templateAdmin.html">

	<ui:define name="metadata">
		<f:metadata>
			<f:event type="preRenderView"
				listener="#{navigationHelper.setCurrentPageAdmin('adminClients')}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">

		<!-- TITLE -->
		<div class="admin__title-bar">
			<h1 class="admin__title">#{msg.admin__clients__edit__title}</h1>
		</div>

		<div id="adminClients" class="admin__content-inner-content">

			<c:set scope="view" value="#{adminClientsBean.selectedClient}"
				var="client"></c:set>

			<!-- NOT CONFIGURED CLIENT -->
			<ui:fragment rendered="#{client.registrationPending}">
				<h2>#{msg.admin__clients__info__title}</h2>
				<div class="admin__default-block mb-5">
					<div class="row">
						<div class="col-12">
							#{msg.admin__clients__question_register}</div>
					</div>
					<div class="row">
						<div class="col-4">#{msg.admin__clients__client_identifier}
						</div>
						<div class="col-8">#{client.clientIdentifier}</div>
					</div>
					<div class="row">
						<div class="col-4">#{msg.admin__clients__date_requested}</div>
						<div class="col-8">#{client.dateRegistered}</div>
					</div>
					<div class="row">
						<div class="col-4">#{msg.admin__clients__client_ip}</div>
						<div class="col-8">#{client.clientIp}</div>
					</div>
				</div>


				<div class="row no-gutters justify-content-end admin__final-actions">
					<h:commandButton class="btn btn--success" value="#{msg.action__accept}"
						action="#{adminClientsBean.accept(client)}">
					</h:commandButton>					
					<h:commandButton class="btn btn--danger" value="#{msg.action__reject}"
						action="#{adminClientsBean.reject(client)}">
					</h:commandButton>
				</div>


			</ui:fragment>

			<!-- CONFIGURED CLIENT -->
			<ui:fragment rendered="#{!client.registrationPending}">
				<h2>#{msg.admin__clients__info__title}</h2>
				<div class="admin__default-block mb-5">
					<div class="row">
						<div class="col-4">#{msg.admin__clients__client_identifier}
						</div>
						<div class="col-8">#{client.clientIdentifier}</div>
					</div>
					<div class="row">
						<div class="col-4">#{msg.admin__clients__client_ip}</div>
						<div class="col-8">#{client.clientIp}</div>
					</div>
				</div>
				
				<h2>#{msg.admin__clients__settings__title}</h2>
				<div class="admin__default-block mb-5">
					<formComponent:textInputField label="#{msg.admin__clients__client_name}" value="#{client.name}"/>
					<formComponent:textInputField label="#{msg.admin__clients__client_desc}" value="#{client.description}"/>
				</div>
				
				<div class="row no-gutters justify-content-end admin__final-actions">
					<h:commandButton class="btn btn--default" value="#{msg.cancel}"
						action="pretty:adminClients">
					</h:commandButton>					
					<h:commandButton class="btn btn--danger" value="#{msg.button__save}"
						action="#{adminClientsBean.save(client)}">
					</h:commandButton>
				</div>
				
			</ui:fragment>
			

		</div>
	</ui:define>
</ui:composition>
