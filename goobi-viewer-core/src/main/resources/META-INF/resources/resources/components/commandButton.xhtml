<!-- Command button rendered as html button. 
Technically the commandButton is hidden and another button element is visible 
wich passes clicks to the commandbutton
 -->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <composite:interface>
        <composite:attribute name="styleClass" required="false" default="" />
        <composite:attribute name="type" required="false" default="button" />
        <composite:attribute name="id" required="false" default="" />
        <composite:attribute name="id" required="false" default="#{cc.clientId}" />
        <composite:attribute name="value" required="false" default="" />
        <composite:attribute name="ariaLabel" required="false" default="#{msg.search}"/>
        <composite:attribute name="action" method-signature="java.lang.String action(java.lang.String)" />
        <composite:actionSource name="actionEvent" targets="#{cc.attrs.id != '' ? cc.attrs.id : cc.clientId}" />
    </composite:interface>

    <composite:implementation>
		<h:commandButton style="display:none" id="worker" action="#{cc.attrs.action}">
        	<c:if test="#{cc.attrs.ariaLabel != ''}">
        		<f:passThroughAttribute name="aria-label" value="#{cc.attrs.ariaLabel}" />
        		<f:passThroughAttribute name="data-click-target" value="#{cc.attrs.id}" />
        	</c:if>
		</h:commandButton>
		<button class="#{cc.attrs.styleClass}" id="#{cc.attrs.id}" type="#{cc.attrs.type}" aria-label="#{cc.attrs.ariaLabel}"
			onclick="$('[data-click-target=#{cc.attrs.id}]').click()">
			#{cc.attrs.value}		
			<composite:insertChildren/>
		</button>
    </composite:implementation>
</ui:composition>