<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite">


	<composite:interface />
    <composite:implementation>

		<!-- Modal -->
		<div class="modal fade view-contentUploadModal show" id="contentUploadModal" tabindex="-1" role="dialog" aria-label="#msg.feedbackTitle" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title">#{msg.user__upload_content}</h1>
						<button type="button" class="fancy-close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">x</span>
						</button>
					</div>

					<div class="modal-body">
						<p>
							<h:outputText value="#{msg.user__upload_content_modal_desc}" />
						</p>

						<h:form id="contentUploadModal__feedbackForm" styleClass="form-horizontal" prependId="false">
							<div id="contentUploadModal__feedback" class="contentUploadModal">

								<!-- TITLE -->
								<div class="form-group form-row">
									<label id="contentUploadModal__labelFeedbackName" for="contentUploadModal__uploadJobTitle"
										class="col-lg-3 control-label">
										<span class="contentUploadModal__label-span">#{msg.title}:</span>
										<span class="contentUploadModal__label-required-field">(#{msg.form__required_field})</span>
									</label>
									
									<div class="col-12 col-lg-9">
										<h:inputText id="contentUploadModal__uploadJobTitle" styleClass="form-control"
											value="#{uploadBean.currentUploadJob.title}" required="true"
											requiredMessage="#{msg.errFeedbackNameRequired}"
											aria-labelledby="labelUploadJobTitle" pt:data-require-input-text="feedbackInput">
											<f:passThroughAttribute name="aria-labelledby"
												value="contentUploadModal__labelUploadJobTitle" />
										</h:inputText>
									</div>
								</div>

                                <!-- DESCRIPTION -->
                                <div class="form-group form-row">
                                    <label id="contentUploadModal__labelUploadJobDescription" for="contentUploadModal__uploadJobDescription"
                                        class="col-lg-3 control-label">
                                        <span class="contentUploadModal__label-span">#{msg.description}:</span>
                                        </label>
                                    
                                    <div class="col-12 col-lg-9">
                                        <h:inputTextarea id="contentUploadModal__uploadJobDescription"
                                            styleClass="form-control"
                                            value="#{uploadBean.currentUploadJob.description}"
                                            pt:data-require-input-text="feedbackInput">
                                            <f:passThroughAttribute name="aria-labelledby"
                                                value="contentUploadModal__labelFeedbackMessage" />
                                        </h:inputTextarea>
                                    </div>
                                </div>
                                
                                <!-- FILES -->
                                <!-- TODO -->

								<!-- E-MAIL -->
								<h:panelGroup rendered="#{!userBean.loggedIn}" layout="block"
									styleClass="form-group form-row" id="emailGroup">
									<label id="contentUploadModal__labelEmail" for="contentUploadModal__feedbackEmail"
										class="col-lg-3 control-label">
										<span class="contentUploadModal__label-span">#{msg.email}:</span>
										<span class="contentUploadModal__label-required-field">(#{msg.form__required_field})</span>
									</label>
									<div class="cms-module__option-control col-12 col-lg-9">
										<div class="cms-module__option-message">
											<h:messages for="feedbackEmail"
												styleClass="m-0 p-0 pb-1 list-unstyled"
												infoClass="cms-module__option-message-status success"
												warnClass="cms-module__option-message-status warning"
												errorClass="cms-module__option-message-status danger" />
											<div class="cms-module__option-message-mark">
												<i class="fa fa-check" aria-hidden="true"></i> <i
													class="fa fa-exclamation" aria-hidden="true"></i>
											</div>
										</div>
										<h:inputText id="contentUploadModal__email" label="feedbackEmail"
											immediate="true" required="true" pt:data-require-input-text="feedbackInput"
											value="#{uploadBean.currentUploadJob.email}" styleClass="form-control"
											disabled="true">
											<f:passThroughAttribute name="aria-labelledby"
												value="contentUploadModal__labelFeedbackEmail" />
											<f:validator validatorId="emailValidator" for="feedbackEmail" />
											<f:ajax render="emailGroup" />
										</h:inputText>
									</div>
								</h:panelGroup>

								<!-- E-MAIL FOR LOGGED IN USERS -->
								<h:panelGroup rendered="#{userBean.loggedIn}" layout="block"
									styleClass="form-group form-row" id="emailGroup2">
									<label id="labelFeedbackEmail2" for="feedbackEmail2"
										class="col-lg-3 control-label">#{msg.email}:</label>
									<div class="cms-module__option-control col-12 col-lg-9">
										<div class="cms-module__option-message">
											<h:messages for="feedbackEmail2"
												styleClass="m-0 p-0 pb-1 list-unstyled"
												infoClass="cms-module__option-message-status success"
												warnClass="cms-module__option-message-status warning"
												errorClass="cms-module__option-message-status danger" />
											<div class="cms-module__option-message-mark">
												<i class="fa fa-check" aria-hidden="true"></i> 
												<i class="fa fa-exclamation" aria-hidden="true"></i>
											</div>
										</div>
										<h:inputText id="feedbackEmail2" label="feedbackEmail2"
											immediate="true" required="true" disabled="true" pt:data-require-input-text="feedbackInput"
											value="#{userBean.feedback.senderAddress}" styleClass="form-control">
											<f:passThroughAttribute name="aria-labelledby"
												value="labelFeedbackEmail2" />
											<f:validator validatorId="emailValidator"
												for="feedbackEmail2" />
											<f:ajax render="emailGroup2" />
										</h:inputText>
									</div>
								</h:panelGroup>

							</div>
								<!-- REQUIRED CHECKBOX FOR USAGE OF PERSONAL DATA OR ANYTHING ELSE -->
								<!-- TO DO: CONFIG SWITCH FOR THIS RENDERED CONDITION CHECKBOX, VALUE + ADDITIONAL TEXT WHICH IS SEND BY FORM(?) -->
<!-- 								<ui:fragment rendered="#{userBean.userFeedbackAdditionalCheckbox()"> -->
									<div class="contentUploadModal__required-checkbox-wrapper">
									  
									  	<div class="form-row">
										  	<p class="col-12 contentUploadModal__accept-terms-text">#{msg.feedbackAcceptingTerms}</p>
										  
										  
						  					<div id="sendContactFormAcceptTerms" class="col-12 col-sm-3 contentUploadModal__accept-terms-label">
												<label class="mr-3 mb-0">#{msg.user__upload_content_modal_consent_desc}:</label>
											</div>	
	                                       
	                                       
	                                        <div class="col-12 col-md-9 mt-3 mt-sm-0 contentUploadModal__accept-terms-radios admin__radio-switch">
	                                            <h:selectOneRadio group="requiredFeedbackTerms" value="#{uploadBean.currentUploadJob.consent}"
	                                                immediate="true" checked="false"
	                                                pt:data-require-input-checkbox="uncheckedChecker">
	                                                <f:selectItem itemValue="#{false}" itemLabel="#{msg.no}" />
	                                            </h:selectOneRadio>
	                                            <h:selectOneRadio id="requiredTermsCheckbox2" group="requiredFeedbackTerms"
	                                                value="#{uploadBean.currentUploadJob.consent}"
	                                                immediate="true" checked="true"
	                                                pt:data-require-input-checkbox="feedbackInput">
	                                                <f:selectItem itemValue="#{contentUploadModalAcceptedTerms}" itemLabel="#{msg.yes}" />
	                                            </h:selectOneRadio>
	                                            <span class="toggle-outside"><span class="toggle-inside"></span></span>
	                                        </div>
                                        </div>

									</div>

<!-- 								</ui:fragment> -->

							<!-- ACTION -->
							<div class="form-group form-row contentUploadModal__action">
								<div class="col-sm-12 d-flex justify-content-end">
									<h:commandButton styleClass="btn btn--full"
										value="#{msg.submit}" pt:data-require-input="feedbackInput"
										action="#{uploadBean.createProcessAction}" />
								</div>
							</div>

						</h:form>

					</div>
				</div>
			</div>
		</div>

	</composite:implementation>
</ui:composition>
