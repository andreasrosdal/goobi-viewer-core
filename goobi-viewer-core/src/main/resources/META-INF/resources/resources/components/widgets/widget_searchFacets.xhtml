<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:goobi="http://xmlns.jcp.org/jsf/composite/components" 
    xmlns:facelets="http://io.goobi.viewer"
    xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
    xmlns:searchFacetsComponent="http://xmlns.jcp.org/jsf/composite/components/widgets/searchFacets">

    <composite:interface>
    	 <composite:attribute name="cmsPage" type="io.goobi.viewer.model.cms.pages.CMSPage" required="false" default="#{null}" />
    	 <composite:attribute name="sidebarElement" type="io.goobi.viewer.model.cms.widgets.embed.CMSSidebarElement" required="false" default="#{null}" />
    </composite:interface>

    <composite:implementation>
		<h:panelGroup rendered="#{cc.attrs.sidebarElement == null or cc.attrs.sidebarElement.contentType.isAllowedForPage(cmsPage)}">
            <searchFacetsComponent:chronologyFacet cmsPage="#{cc.attrs.cmsPage}"/>
            <searchFacetsComponent:geoFacetting cmsPage="#{cc.attrs.cmsPage}"/>
            <searchFacetsComponent:searchFacets cmsPage="#{cc.attrs.cmsPage}"/>
		</h:panelGroup>

    </composite:implementation>
</ui:composition>
