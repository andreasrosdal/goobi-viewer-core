
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <composite:interface>
        	<composite:attribute name="imageSizeWidth" required="false" default="2000" />
        	<composite:attribute name="imageSizeHeight" required="false" default="2100" />
    </composite:interface>

    <composite:implementation>
    	<!-- CONDITION: IS ANY HIGHLIGHTED OBJECT SET UP FOR THE CURRENT DATE? -->
		<h:panelGroup styleClass="highlighted-object" layout="block" rendered="#{object != null}">
			<c:set scope="request" var="object" value="#{highlightedObjectBean.currentHighlightedObject}"/>

					<!-- CONDITION: DOES AN OBJECT IMAGE EXIST? YES: RENDER LINK + IMAGE + IMAGE TITLE -->
					<ui:fragment rendered="#{object.hasImageURI()}">
						<a class="highlighted-object__link" href ="#{highlightedObjectBean.getRecordUrl(object)}" title="#{msg.action__open_record}: #{object.data.name.textOrDefault}" >
							<figure class="highlighted-object__figure">
								<img class="highlighted-object__image"
									alt="#{object.data.name.textOrDefault}" 
									title="#{msg.image}: #{object.data.name.textOrDefault}"
									src="#{object.getImageURI(cc.attrs.imageSizeWidth, cc.attrs.imageSizeHeight)}" />
								<figcaption class="highlighted-object__image-title">#{object.data.name.textOrDefault}</figcaption>
							</figure>
						</a>
					</ui:fragment>

					<!-- CONDITION: DOES AN OBJECT IMAGE EXIST? NO: RENDER LINK ONLY -->
					<ui:fragment rendered="#{!object.hasImageURI()}">
						<a class="highlighted-object__no-image-link" href="#{highlightedObjectBean.getRecordUrl(object)}" title="#{msg.action__open_record}: #{object.data.name.textOrDefault}">#{object.data.name.textOrDefault}</a>
					</ui:fragment>

		</h:panelGroup>
	</composite:implementation>
</ui:composition>