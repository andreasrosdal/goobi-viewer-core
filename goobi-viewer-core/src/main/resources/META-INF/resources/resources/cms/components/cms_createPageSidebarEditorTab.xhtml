<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite">

	<composite:interface />

	<composite:implementation>
		<div role="tabpanel"
			class="tab-pane #{cmsBean.selectedLocale == null ? 'active':''}"
			id="sidebarTab">
			<!-- sidebar editor -->
			<div id="sidebarEditorWrapper">
				<!-- choose standard sidebar for current page -->
				<div class="sidebar-editor sidebar-editor-choose-standard">
					<h:selectBooleanCheckbox id="checkboxUseDefaultSidebar"
						value="#{cmsBean.selectedPage.useDefaultSidebar}"
						onclick="cmsJS.createPage.disablePreview();">
						<h:outputText value="#{msg.cms_pageSidebarUseDefault}" />
						<f:ajax render="cmsCreatePageAccessControl" />
						<f:passThroughAttribute name="aria-label"
							value="#{msg.cms_pageSidebarUseDefault}" />
					</h:selectBooleanCheckbox>
				</div>

				<h:panelGroup id="sidebar_editor_group">
					<h:panelGroup rendered="#{!cmsBean.selectedPage.useDefaultSidebar}">
						<div class="sidebar-editor sidebar-editor-editor">
							<div class="sidebar-editor-left">
								<h3>#{msg.cms_pageSidebar}</h3>
								<ul>
									<ui:repeat var="element"
										value="#{cmsBean.selectedPage.sidebarElements}">
										<li>
											<!-- ITEM ORDER -->
											<div>
												<button type="button" class="btn btn--clean"
													jsf:action="#{cmsBean.selectedPage.moveUpSidebarElement(element)}">
													<i class="fa fa-arrow-up" aria-hidden="true"></i>
												</button>
												<button type="button" class="btn btn--clean"
													jsf:action="#{cmsBean.selectedPage.moveDownSidebarElement(element)}">
													<i class="fa fa-arrow-down" aria-hidden="true"></i>
												</button>
											</div> <!-- ITEM LABEL -->
											<div>#{element.title}</div> <!-- ITEM DELETE -->
											<div>
												<h:commandLink
													styleClass="admin__table-action-link -redlink"
													action="#{cmsBean.selectedPage.removeSidebarElement(element)}"
													aria-label="#{msg.delete}">#{msg.delete}
													<f:ajax render="@form"/></h:commandLink>
											</div>

										</li>

									</ui:repeat>
									
									<li>
											<!-- ITEM ORDER -->
											<div>
												<button type="button" class="btn btn--clean">
													<i class="fa fa-arrow-up" aria-hidden="true"></i>
												</button>
												<button type="button" class="btn btn--clean">
													<i class="fa fa-arrow-down" aria-hidden="true"></i>
												</button>
											</div> <!-- ITEM LABEL -->
											<div>Irgendein Widget</div> <!-- ITEM DELETE -->
											<div>
												<h:commandLink
													styleClass="admin__table-action-link -redlink"
													aria-label="#{msg.delete}" value="#{msg.delete}">
													<f:ajax render="@form"/></h:commandLink>
											</div>

										</li>
									
								</ul>
							</div>

							<c:set var="widgets" value="#{cmsSidebarWidgetsBean.allWidgets}" scope="view"/>
							
							<div class="sidebar-editor-left">
								<h3>#{msg.cms_menu_availableComponents}</h3>
								<h:selectManyCheckbox value="#{selectedWidgets}">
									<f:selectItems value="#{widgets}" var="widget" itemValue="#{widget}" itemLabel="#{widget.title}"/>
								</h:selectManyCheckbox>
								<button class="btn btn--default" jsf:action="#{cmsBean.selectedPage.addToSidebar(selectedWidgets)}">
									#{msg.action__add_to_sidebar}
									<f:ajax render="@form"/>
								</button>
							</div>
						</div>
					</h:panelGroup>
				</h:panelGroup>

			</div>
		</div>
	</composite:implementation>


</ui:composition>