<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:adminWidget="http://xmlns.jcp.org/jsf/composite/admin/widgets"
	template="/resources/themes/#{navigationHelper.theme}/templateAdmin.html">

	<f:event listener="cmswidgetEditBean.startConversation()"
		type="preRenderView"></f:event>

	<ui:define name="metadata">
		<f:metadata>
			<f:event type="preRenderView"
				listener="#{navigationHelper.setCurrentPageAdmin('adminCmswidgets')}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">
		<div id="cmsWidgetsOverview" class="cms-widgets-overview">
			<h:panelGroup rendered="#{userBean.user.cmsAdmin}">

				<div class="admin__title-bar">
					<!-- TITLE -->
					<h2 class="admin__title">#{msg.cms__add_widget__title}</h2>
                    <!-- CREATE NEW IP RANGE -->
                    <a href="#{navigationHelper.getPageUrl('adminCmsWidgetsAdd')}/" class="btn btn--default admin__title-bar-action">
                    	#{msg.add}
                    </a>
                    
				</div>
			


				<h:form prependId="false">

					<ui:param name="widget" value="#{cmswidgetEditBean.selectedwidget}"></ui:param>
	
						<div class="admin__content-inner-content">
						
						<div class="admin__info-text">#{msg.cms__add_widget__select_type}:</div>
						
						
                            <div class="cms-widgets-overview__grid">
                                <!--  INDIVIDUAL IP RANGES -->
                                <ui:repeat var="ipRange" value="#{adminBean.allIpRanges}">
                                
                                
                                <div class="cms-widgets-overview__single-widget-wrapper">
                                    <div class="admin__boxed-entry">

                                    	<!-- TITLE -->
                                        <div class="cms-widgets-overview__single-widget-title-wrapper">                                    	
	                                        <h3 class="cms-widgets-overview__single-widget-title">
	                                        	<span class="cms-widgets-overview__single-widget-title-name">#{ipRange.name}</span>
	                                        	<span class="cms-widgets-overview__single-widget-title-type">(custom)</span>
	                                        </h3>
	                                        
	                                        <div class="cms-widgets-overview__single-widget-title-indicator">
	                                        	<viewerComponent:localeSelector object="#{termsOfUseBean}" />
	                                        </div>
                                        </div>
                                        

                                        
											

                                        <!-- DESCRIPTION -->
                                        <p class="admin__boxed-entry-description">#{ipRange.description}</p>
                                        
                                        <!-- INFOS + DATA -->
										<div class="cms-widgets-overview__single-widget-info-wrapper">
										
											<!-- TYPE OF WIDGET -->	
											<div class="cms-widgets-overview__single-widget-info-type">
												<div class="cms-widgets-overview__single-widget-info-label">#{msg.type}</div>
												<div class="cms-widgets-overview__single-widget-info-data">
													Facetting
												</div>
											</div>
											
											<!-- WHERE IS THIS WIDGET DISPLAYED -->
											<div class="cms-widgets-overview__single-widget-info-used">
												<div class="cms-widgets-overview__single-widget-info-label">#{msg.usage}</div>
												
												<!-- LIST ALL PAGES ON WHICH THIS WIDGET IS ACTIVE -->

												<div class="cms-widgets-overview__single-widget-info-data-wrapper">
	<!-- 											<ui:repeat var="singleWidgetData" value="singleWidgetData"> -->
														<div class="cms-widgets-overview__single-widget-info-data">Example entry 1</div>
														<div class="cms-widgets-overview__single-widget-info-data">Example entry 2</div>
														<div class="cms-widgets-overview__single-widget-info-data">Example entry 2</div>
	<!-- 											</ui:repeat> -->
												</div>

											</div>

										<!-- ADDITIONAL INFO DEPENDING ON WIDGET TYPE -->
										<ui:fragment rendered="#{userBean.user.cmsAdmin}">
											<div class="cms-widgets-overview__single-widget-info-additional-field">
												
												<div class="cms-widgets-overview__single-widget-info-label">#{msg.maps}</div>
												

												<div class="cms-widgets-overview__single-widget-info-data-wrapper">
	<!-- 											<ui:repeat var="singleWidgetData" value="singleWidgetData"> -->
													<div class="cms-widgets-overview__single-widget-info-data">Example map 1</div>
													<div class="cms-widgets-overview__single-widget-info-data">Example map 2</div>
	<!-- 											</ui:repeat> -->
												</div>
												
											</div>
										</ui:fragment>


										</div>
                                        <!-- ACTIONS -->
                                        <div class="row admin__boxed-entry-actions">
                                            <div class="col-3 d-flex">
                                                <!-- EDIT -->
                                                <a href="#{navigationHelper.applicationUrl}admin/ipranges/edit/#{ipRange.id}/" class="admin__boxed-entry-actions-edit" aria-label="#{msg.edit}: #{ipRange.name}">#{msg.edit}</a>

                                                <!-- DELETE -->
                                                <h:commandLink
                                                    styleClass="admin__boxed-entry-actions-delete -redlink"
                                                    onclick="if ( !confirm( &quot;#{navigationHelper.getTranslationWithParams(msg.ipRange_deleteConfirmationText, ipRange.name)}&quot; ) ) { return false };"
                                                    action="adminIpRanges"
                                                    actionListener="#{adminBean.deleteIpRangeAction(ipRange)}">
                                                    <f:passThroughAttribute name="aria-label" value="#{msg.delete}: #{ipRange.name}" />
                                                    #{msg.delete}
                                                </h:commandLink>
                                            </div>
                                        </div>
                                    </div>
                                    
<!-- 									<div class="admin__language-tabs"> -->
<!-- 										<viewerComponent:localeSelector object="#{termsOfUseBean}" /> -->
<!-- 									</div> -->
                                    </div>

                                </ui:repeat>
                            </div>
						

						</div>
						
						

				</h:form>
			</h:panelGroup>
		</div>	
		
	</ui:define>

</ui:composition>


