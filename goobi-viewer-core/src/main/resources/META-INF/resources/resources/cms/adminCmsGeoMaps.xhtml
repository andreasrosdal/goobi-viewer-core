<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://xmlns.jcp.org/jsf/html" 
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:c="http://java.sun.com/jsp/jstl/core" 
    xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
    xmlns:adminWidget="http://xmlns.jcp.org/jsf/composite/admin/widgets" 
    template="/resources/themes/#{navigationHelper.theme}/templateAdmin.html">

    <ui:define name="metadata">
        <f:metadata>
            <f:event type="preRenderView" listener="#{navigationHelper.setCurrentPageAdmin('adminCmsGeoMaps')}" />
        </f:metadata>
    </ui:define>

    <!-- CONTENT -->
    <ui:define name="content">
        <ui:fragment id="cmsGeoMaps" rendered="#{configurationBean.cmsEnabled and userBean.user.isHasCmsPrivilege('CMS_GEOMAPS')}">
            <div id="cmsGeoMaps">
                <h:form id="addGeoMapForm">
                	<h2 class="admin__content-inner-title">#{msg.cms__geo_maps__title}
	                	<h:commandButton styleClass="btn btn--default" action="#{geoMapBean.createEmptyCurrentMap}" value="#{msg.add}" title="#{msg.add}" alt="#{msg.add}">
	                    </h:commandButton>
                	</h2>
                </h:form>

                <div class="admin__content-inner-content">
                	<div class="admin__content-inner-content__description">
               			<h:outputText escape="false" value="#{msg.cms__geo_maps__description}"></h:outputText>
               		</div>
                    <h:form id="cmsGeoMapsForm" prependId="false">
                    	<div class="admin__content-inner-content__list">
	                    	<ui:repeat value="#{geoMapBean.allMaps}" var="map" varStatus="status">
	                    		<div class="admin__content-inner-content__list__item">
	                    			<h3>#{map.getTitle(navigationHelper.localeString)}</h3>
	                    			<h:outputText escape="false" value="#{map.getDescription(navigationHelper.localeString)}"></h:outputText>
	                    		</div>
	                    	</ui:repeat>
                    	</div>
                    </h:form>
                </div>
            </div>
        </ui:fragment>
    </ui:define>

    <!-- SIDEBAR -->
    <ui:define name="sidebar">
        <adminWidget:widget_admin />
        <adminWidget:widget_crowdsourcing />
        <adminWidget:widget_cms />
    </ui:define>
</ui:composition>
