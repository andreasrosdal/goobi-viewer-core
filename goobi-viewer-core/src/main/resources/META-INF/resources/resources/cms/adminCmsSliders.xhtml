<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:adminWidget="http://xmlns.jcp.org/jsf/composite/admin/widgets"
	template="/resources/themes/#{navigationHelper.theme}/templateAdmin.html">

	<ui:define name="metadata">
		<f:metadata>
			<f:event type="preRenderView"
				listener="#{navigationHelper.setCurrentPageAdmin('adminCmsSliders')}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">
		<div id="cmsSliders" class="cms_sliders">
			<h:panelGroup rendered="#{userBean.user.cmsAdmin}">
				<h:form prependId="false">

					<div class="admin__title-bar">
						<!-- TITLE -->
						<h2 class="admin__title">#{msg.cms__sliders__title}</h2>
						<!-- CREATE NEW NOTE -->
						<ui:fragment rendered="#{userBean.user.cmsAdmin}">
							<a
								href="#{navigationHelper.applicationUrl}admin/cms/sliders/new/"
								class="btn btn--default admin__title-bar-action"> <span>#{msg.add}</span>
							</a>
						</ui:fragment>
					</div>


					<div class="admin__content-inner-content">
						<div class="admin__info-text">#{msg.cms__sliders__description}</div>

						<div class="admin__table-tools">
							<!-- FILTER -->
							<div class="admin__table-filter">
								<viewerComponent:dataTableColumnFilter
									key="cms__sliders__search" filter="#{cmsSliderBean.filter}" />
							</div>
						</div>

						<div class="admin__entry-list">
							<ui:repeat var="slider"
								value="#{cmsSliderBean.sliders}">
								<div class="admin__boxed-entry -w33">
								
									<h3>#{slider.name}</h3>
									<p>#{slider.description}</p>
									<dl>
										<dt>#{msg.label__type}:</dt>
										<dd>#{msg[slider.sourceType.label]}</dd>
										
										<dt>#{msg.label__usage}:</dt>
										<dd>
											<ui:repeat var="cmsPage" value="#{cmsSliderBean.getEmbeddingCmsPages(slider)}">
                                            	<a href="#{cmsPage.pageUrl}" class="-bluelink">#{cmsPage.title}</a>
                                            </ui:repeat>
										</dd>
									</dl>
								</div>
							</ui:repeat>
						</div>
	</ui:define>

</ui:composition>

