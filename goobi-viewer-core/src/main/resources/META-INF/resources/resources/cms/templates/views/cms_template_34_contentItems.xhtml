<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://xmlns.jcp.org/jsf/html" 
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:viewer="http://xmlns.jcp.org/jsf/composite/components/partner" 
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
	xmlns:contentItem="http://xmlns.jcp.org/jsf/composite/components/contentItems"
	template="/resources/themes/#{navigationHelper.theme}/template.html"
	xmlns:pretty="http://ocpsoft.com/prettyfaces/3.3.3">

	<ui:param name="cmsPage" value="#{cmsBean.currentPage}" />

	<ui:define name="metadata">
		<f:metadata>
			<f:event type="preRenderView" listener="#{navigationHelper.setCurrentPage(cmsBean.currentPage)}" />
			<f:event type="preRenderView" listener="#{breadcrumbBean.updateBreadcrumbs(cmsBean.currentPage)}" />
			<f:event type="preRenderView" listener="#{searchBean.resetSearchFilter}" />
		</f:metadata>
	</ui:define>
	
    <ui:define name="topbar">
		<h:panelGroup binding="#{cmsDynamicContentBean.topBarContent}"></h:panelGroup>
	</ui:define>

	<ui:define name="content">
		<ui:include src="/resources/cms/includes/cms_script.xhtml" />
		<ui:param name="currentPage" value="#{cmsBean.random}" />
		<f:view contentType="text/html" encoding="utf-8">
			<div id="templateGeneric" class="tpl-generic #{cmsPage.wrapperElementClass}">
                <!-- EDIT PAGE -->
                <ui:fragment rendered="#{cmsBean.mayEdit(cmsPage)}">
                    <ui:include src="/resources/cms/includes/editPage.xhtml" />                    
                </ui:fragment>
                
				<!-- PAGE UNPUBLISHED -->
				<h:panelGroup rendered="#{!cmsPage.published}">
					<div class="alert alert-warning" role="alert">#{msg.cms_pagePreviewNotPublished}</div>
				</h:panelGroup>
				
                <h1 >#{cmsPage.title}</h1>


                <!-- CONFIGURABLE CONTENT ITEMS AREA BY BACKEND USER -->
				<div class="content-items__outer-wrapper">
				
					<div class="content-items__all-items-container">
					
						<!-- CONTENT ITEM HEADING -->
						<div class="content-item -width-100">
							<div class="content-item__heading">
								<h2>Heading Content Item</h2>
							</div>
						</div>


						<!-- CONTENT ITEM TEXT HALF -->
						<div class="content-item -width-50">
							<div class="content-item__text">
								<p>Lorem ipsum dolor sit amet, consetetur sadipscing pscing elitr, sed diam nonumy ei elitr, sed diam nonumy eirmod tempor invidunt pscing elitr, sed diam nonumy ei pscing elitr, sed diam nonumy ei pscing elitr, sed diam nonumy ei ut labore et dolore magna Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna  aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
							</div>
						</div>




						<!-- CONTENT ITEM IMAGE HALF -->
						<div class="content-item -width-50">
							 
							<div class="content-item__image lightbox-test">
								<a href="https://picsum.photos/1400/800?random=1"><img src="https://picsum.photos/1400/800?random=1" alt="" title=""/></a>
							</div>
						</div>



						<!-- CONTENT ITEM HEADING -->
						<div class="content-item -width-100">
							<div class="content-item__heading">
								<h2>Heading Content Item with a long title to get the maximum out of this nice goobi viewer page with cool pictures</h2>
							</div>
						</div>
						
						<!-- CONTENT ITEM IMAGE FULL -->
						<div class="content-item -width-100">
							 
							<div class="content-item__image lightbox-test">
								<a href="https://picsum.photos/1400/800?random=2" title="Test Caption"><img src="https://picsum.photos/1400/800?random=2" alt="test1" title="test2"/></a>
							</div>
						</div>
						
						<!-- CONTENT ITEM TEXT FULL -->
						<div class="content-item -width-100">
							<div class="content-item__text">
								<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
							</div>
						</div>
						
						<!-- CONTENT ITEM HEADING -->
						<div class="content-item -width-100">
							<div class="content-item__heading">
								<h2>Heading Content Item with a long title to get the maximum out of this nice goobi viewer page with cool pictures</h2>
							</div>
						</div>

						<!-- CONTENT ITEM IMAGE FLOATING LEFT -->
						<div class="content-item -width-100">
							 
							<div class="content-item__floating-text-image lightbox-test">
								<p><a href="https://picsum.photos/1400/800?random=3" title="Test Caption 3"><img src="https://picsum.photos/1400/800?random=3" alt="" title=""/></a>
								Lorem ipsum dolor sit amet, consetetur sadipscing elitr, Lorem ipsum dolor sit amet, Lorem ipsum dolor sit amet, consetetur sadipscing elitr, Lorem ipsum dolor sit amet, Lorem ipsum dolor sit amet, consetetur sadipscing elitr, Lorem ipsum dolor sit amet, consetetur sadipscing elitr, Lorem ipsum dolor sit amet, consetetur sadipscing elitr,sed diam nonumy eirmod tempor invidLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et do Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et do Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dount ut labore et dolore magna aliquyam erat, sed diam voluLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam volu
								</p>
							</div>
						</div>

						<!-- FA* the values of these attributes shall be based on the selected options in the admin viewer backend for every single content item -->
                        <contentItem:textEditor hideContentItem="mobile" width="100" />
                        
                        <contentItem:textEditor hideContentItem="mobile" width="50" />
                        
                        <contentItem:textEditor hideContentItem="mobile" width="50" />
                        
                        <contentItem:heading hideContentItem="mobile" width="100" />

                        
                        <div class="infomessage">text01 here:</div>
                        <h:outputText escape="false" value="#{cmsPage.getContent('item01')}" />

						<div class="infomessage">item11 here:</div>
						<h:outputText escape="false" value="#{cmsPage.getContent('item11')}" />

						<!-- CONTENT ITEM SEARCH HITS -->
						<div class="content-item -width-50">
							<div class="content-item__search">


							<div id="templateSearchListCustom" class="tpl-search-list-custom #{cmsPage.wrapperElementClass}">
				                <!-- EDIT PAGE -->
				                <ui:fragment rendered="#{cmsBean.mayEdit(cmsPage)}">
				                    <ui:include src="/resources/cms/includes/editPage.xhtml" />                    
				                </ui:fragment>
				                
				                <!-- PAGE UNPUBLISHED -->
				                <h:panelGroup rendered="#{!cmsPage.published}">
				                    <div class="alert alert-warning" role="alert">
				                        #{msg.cms_pagePreviewNotPublished}
				                    </div>
				                </h:panelGroup>
				
								<h1 >#{cmsPage.title}</h1>                
				                
				                <div class="tpl-search-list-custom__list">
				                    <ui:repeat var="hit" value="#{cmsBean.getQueryResults(cc.attrs.component.getContentItem('queryList01').content)}">
				                        <div class="row">
				                            <div class="tpl-search-list-custom__list-element clearfix">
				                                <div class="col-4 col-sm-2">
				                                    <div class="tpl-search-list-custom__list-image">
				                                        <img data-src="#{hit.browseElement.getThumbnailUrl(50, 150)}" alt="#{hit.browseElement.label}" data-viewer-thumbnail="thumbnail"/>
				                                    </div>
				                                </div>
				                                <div class="col-8 col-sm-10">
				                                    <div class="tpl-search-list-custom__list-text">
				                                        <dl class="dl-horizontal">
				                                            <dt>#{msg.MD_TITLE}:</dt>
				                                            <dd>
				                                                <a href="#{navigationHelper.applicationUrl}#{hit.browseElement.url}" title="#{hit.browseElement.label}">#{hit.browseElement.label}</a>
				                                            </dd>
				                                        </dl>
				                                        <dl class="dl-horizontal">
				                                            <dt>#{msg.MD_CREATOR}:</dt>
				                                            <dd>
				                                                <ui:repeat value="#{hit.browseElement.getMetadataList('MD_CREATOR')}" var="metadata">
				                                                    <ui:repeat value="#{metadata.values}" var="val">
				                                                        <span class="tpl-search-list-custom__list-text-person"> 
				                                                            <h:outputFormat value="#{msg[val.masterValue]}" escape="false">
				                                                                <f:param value="#{val.paramValues[0] != null ? val.paramValues[0] : ''}" />
				                                                                <f:param value="#{val.paramValues[1] != null ? val.paramValues[1] : ''}" />
				                                                                <f:param value="#{val.paramValues[2] != null ? val.paramValues[2] : ''}" />
				                                                                <f:param value="#{val.paramValues[3] != null ? val.paramValues[3] : ''}" />
				                                                            </h:outputFormat>
				                                                        </span>
				                                                    </ui:repeat>
				                                                </ui:repeat>
				                                            </dd>
				                                        </dl>
				                                    </div>
				                                </div>
				                            </div>
				                        </div>
				                    </ui:repeat>
				                </div>
				
				                <!-- paginator -->
				                <viewerComponent:simplePaginator 
				                itemCount="#{cmsBean.getQueryResultCount()}"
				                    itemActive="#{cmsPage.listPage}" urlPrefix="#{cmsBean.getUrl(cmsPage)}" />
				            </div>
							</div>
						</div>
						
					</div>

				</div>
                

			</div>
		</f:view>
	</ui:define>

    <!-- SIDEBAR -->
	<ui:define name="sidebar">
		<ui:include src="/resources/cms/includes/cms_sidebar.xhtml" />
    </ui:define>
</ui:composition>