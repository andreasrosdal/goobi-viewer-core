<ui:composition xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:viewerForms="http://xmlns.jcp.org/jsf/composite/components/forms">

	<composite:interface>
		<composite:attribute name="contentItem" required="true"/>
	</composite:interface>

	<composite:implementation>
	
    <!-- SELECT CATEGORY -->
    <div class="cms-module__option-group">
        <div class="cms-module__option-label">
            <label for="pageListCategory">#{msg[cc.attrs.contentItem.itemLabel]}#{cc.attrs.contentItem.mandatory?'*':''}:</label>
        </div>
        <div class="cms-module__option-control">
            <!-- AREA FOR AJAX REFRESH -->
            <h:panelGroup id="pageListCategoryGroup">
                <!-- VALIDATION MESSAGE -->
                <div class="cms-module__option-message">
                    <h:messages for="pageListCategory" 
                        infoClass="cms-module__option-message-status success" 
                        warnClass="cms-module__option-message-status warning"
                        errorClass="cms-module__option-message-status danger" />

                    <div class="cms-module__option-message-mark">
                        <i class="fa fa-check" aria-hidden="true"></i>
                        <i class="fa fa-exclamation" aria-hidden="true"></i>
                    </div>
                </div>

                <!-- MULTI SELECT MENU -->
                <div class="cms-module__option-dropdown"> 
                    <div class="cms-module__option-dropdown-trigger" data-toggle="option-dropdown">#{msg.admin__category_select}</div>
                    <ul>
                        <ui:repeat var="selectable" value="#{cc.attrs.contentItem.content.selectableCategories}">
                            <li>
                                <label>
                                    <h:selectBooleanCheckbox type="checkbox" value="#{selectable.selected}" />
                                    #{selectable.label}
                                </label>
                            </li>
                        </ui:repeat>
                    </ul>
                </div>
            </h:panelGroup>
            
            <!-- INLINE HELP -->
            <span class="cms-module__option-control-helptext">#{msg.inline_help__cms_page_type_page_list_category}</span>
        </div>
        <!-- TOGGLE INLINE HELP -->
        <div class="cms-module__option-help">
            <button type="button" class="btn btn--clean" data-toggle="helptext" aria-label="#{msg.aria_label__help}">
                <i class="fa fa-question-circle" aria-hidden="true"></i>
            </button>
        </div>
    </div>
	
    <!-- CATEGORIES AS HEADER -->
    <div class="cms-module__option-group">
        <div class="cms-module__option-label">
            <label for="pageListCategoriesAsHeader">#{msg.cms_displayCategoriesAsHeaders}:</label>
        </div>
        <div class="cms-module__option-control">
            <!-- AREA FOR AJAX REFRESH -->
            <h:panelGroup layout="block" id="pageListCategoriesAsHeaderGroup" styleClass="cms-module__option-checkbox">
                <!-- VALIDATION MESSAGE -->
                <div class="cms-module__option-message">
                    <h:messages for="pageListCategoriesAsHeader" 
                        infoClass="cms-module__option-message-status success" 
                        warnClass="cms-module__option-message-status warning"
                        errorClass="cms-module__option-message-status danger" />

                    <div class="cms-module__option-message-mark">
                        <i class="fa fa-check" aria-hidden="true"></i>
                        <i class="fa fa-exclamation" aria-hidden="true"></i>
                    </div>
                </div>

                <!-- CHECKBOX -->
                <h:selectBooleanCheckbox 
                    id="pageListCategoriesAsHeader" 
                    value="#{cc.attrs.contentItem.content.groupByCategory}"
                    onclick="cmsJS.createPage.disablePreview();" />
            </h:panelGroup>
            
            <!-- INLINE HELP -->
            <span class="cms-module__option-control-helptext inline">#{msg.inline_help__cms_page_type_page_list_categories_as_header}</span>
        </div>
        <!-- TOGGLE INLINE HELP -->
        <div class="cms-module__option-help">
            <button type="button" class="btn btn--clean" data-toggle="helptext" aria-label="#{msg.aria_label__help}">
                <i class="fa fa-question-circle" aria-hidden="true"></i>
            </button>
        </div>
    </div>
	</composite:implementation>
</ui:composition>